{"version":3,"sources":["webpack:///public/build/bundle.js","webpack:///webpack/bootstrap ed338900a4028b8d4190","webpack:///./public/app/js/uploader.js","webpack:///./public/app/entry.js","webpack:///./public/app/js/main.js","webpack:///./public/app/js/clipboard.js","webpack:///./public/app/js/dragndrop.js","webpack:///./public/app/js/uploadScreen.js","webpack:///./node_modules/codex.ajax/lib/bundle.js","webpack:///./node_modules/codex.transport/lib/bundle.js","webpack:///./public/app/js/copyable.js","webpack:///./public/app/js/progressiveLoading.js","webpack:///./public/app/js/notificationToggler.js","webpack:///./public/app/js/checkForSafari.js","webpack:///./node_modules/codex-notifier/notifier.js"],"names":["capella","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Uploader","this","uploadUrl","uploadFileButton","document","getElementById","uploadLinkField","addEventListener","uploadByTransport","bind","uploadByUrl","transport","init","url","multiple","accept","data","before","progress","success","error","after","e","keyCode","preventDefault","upload","link","file","formData","FormData","currentFileName","append","ajax","type","filename","File","uploadScreen","show","percentage","response","console","log","window","location","href","id","hide","notifier","message","time","default","Clipboard","DNDFileUploader","UploadScreen","uploader","copyable","progressiveLoading","notificationToggler","checkForSafari","clipboard","dnd","body","pasteFromClipboard","event","clipboardData","originalEvent","items","getData","blob","stopPropagation","regex","match","indexOf","getAsFile","reader","FileReader","onload","uploadBlob","readAsDataURL","wrapper","querySelector","dragover","drageleave","drop","classList","add","remove","dataTransfer","files","mainContainer","progressBar","loadingClass","textContent","percents","style","width","t","r","a","XMLHttpRequest","ActiveXObject","u","async","test","withCredentials","open","f","parseInt","loaded","total","setRequestHeader","onreadystatechange","readyState","responseText","JSON","parse","status","send","Symbol","iterator","constructor","input","click","y","b","createElement","setAttribute","NAMES","authorized","prepareElement","element","copiedCallback","elementClicked","authorize","authorizedCopy","selection","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","execCommand","CopiedEvent","CustomEvent","bubbles","cancelable","detail","toString","dispatchEvent","elems","getElementsByName","authorizedElems","clipboardButton","toggleCopiedIcon","blurImage","fullImage","fullImageUrl","getAttribute","img","Image","src","filter","transition","backgroundImage","setTimeout","background","CSS","notificationClass","notificationHideClass","notificationElement","notificationIsVisibleTimer","ctrlKey","metaKey","which","clearTimeout","userAgent","navigator","notification","crossBtn","okBtn","cancelBtn","btn","btnsWrapper","innerHTML","appendChild","alert","confirm","cancelHandler","okHandler","okText","cancelText","prompt","placeholder","inputType"],"mappings":"AAAA,GAAIA,SACK,SAAUC,GCGnB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,GAAAD,KA4DA,OAhCAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAAAP,EAAAQ,EAAAC,GACAZ,EAAAa,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAf,GACA,GAAAQ,GAAAR,KAAAgB,WACA,WAA2B,MAAAhB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAJ,GAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDtB,EAAAyB,EAAA,GAGAzB,IAAA0B,EAAA,KDOM,SAAUtB,EAAQD,EAASH,GAEjC,YAkBA,SAAS2B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhHhB,OAAOC,eAAeZ,EAAS,cAC7B4B,OAAO,GAGT,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI9B,GAAI,EAAGA,EAAI8B,EAAMC,OAAQ/B,IAAK,CAAE,GAAIgC,GAAaF,EAAM9B,EAAIgC,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWrB,cAAe,EAAU,SAAWqB,KAAYA,EAAWC,UAAW,GAAMxB,OAAOC,eAAemB,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUR,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBJ,EAAYN,UAAWiB,GAAiBC,GAAaR,EAAiBJ,EAAaY,GAAqBZ,ME5E3gBa,EFgFN,WE5Eb,QAAAA,KAAcf,EAAAgB,KAAAD,GACZC,KAAKC,UAAY,UACjBD,KAAKE,iBAAmBC,SAASC,eAAe,oBAChDJ,KAAKK,gBAAkBF,SAASC,eAAe,mBAE3CJ,KAAKE,kBACPF,KAAKE,iBAAiBI,iBAAiB,QAASN,KAAKO,kBAAkBC,KAAKR,OAAO,GAGjFA,KAAKK,iBACPL,KAAKK,gBAAgBC,iBAAiB,UAAWN,KAAKS,YAAYD,KAAKR,OAAO,GF2PlF,MAhKAX,GAAaU,IACXH,IAAK,oBACLR,MAAO,WErFPjC,QAAQuD,UAAUC,MAChBC,IAAKZ,KAAKC,UACVY,UAAU,EACVC,OAAQ,yDACRC,QACAC,OAAQhB,KAAKgB,OACbC,SAAUjB,KAAKiB,SACfC,QAASlB,KAAKkB,QACdC,MAAOnB,KAAKmB,MACZC,MAAOpB,KAAKoB,WFiGdxB,IAAK,cACLR,MAAO,SEzFGiC,GAEQ,KAAdA,EAAEC,UAGND,EAAEE,iBAEEvB,KAAKK,iBACPL,KAAKwB,QAAQC,KAAQzB,KAAKK,gBAAgBjB,YFoG5CQ,IAAK,aACLR,MAAO,SE5FEsC,GACT,GAAIC,GAAW,GAAIC,SAEnB5B,MAAK6B,gBAAkBH,EAAK1D,KAE5B2D,EAASG,OAAO,OAAQJ,EAAMA,EAAK1D,MAEnCgC,KAAKwB,OAAOG,MFsGZ/B,IAAK,SACLR,MAAO,SE/FF2B,GACL5D,QAAQ4E,KAAKnE,MACXoE,KAAM,OACNpB,IAAKZ,KAAKC,UACVc,KAAMA,EACNC,OAAQhB,KAAKgB,OAAOR,KAAKR,MACzBiB,SAAUjB,KAAKiB,SACfC,QAASlB,KAAKkB,QACdC,MAAOnB,KAAKmB,MACZC,MAAOpB,KAAKoB,WFwGdxB,IAAK,SACLR,MAAO,SElGF2B,GACL,GAAIkB,SAEAlB,aAAgBa,YAClBK,EAAWjC,KAAK6B,iBAEdd,GAAQA,EAAKU,OACfQ,EAAWlB,EAAKU,MAEdV,EAAK,YAAcmB,QACrBD,EAAWlB,EAAK,GAAG/C,MAGrBb,QAAQgF,aAAaC,KAAKH,MF4G1BrC,IAAK,WACLR,MAAO,SErGAiD,GACPA,GAAa,IACblF,QAAQgF,aAAalB,SAASoB,MFmH9BzC,IAAK,UACLR,MAAO,SExGDkD,GACNC,QAAQC,IAAIF,GAERA,EAASpB,SACX/D,QAAQgF,aAAalB,SAAS,KAG9BwB,OAAOC,SAASC,KAAO,UAAYL,EAASM,IAE5CzF,QAAQgF,aAAaU,UFmHvBjD,IAAK,QACLR,MAAO,SE3GHkD,GACJnF,QAAQ2F,SAASV,MACfW,QAAS,2CAA+CT,EAASS,QACjEC,KAAM,MAER7F,QAAQgF,aAAaU,UFmHrBjD,IAAK,QACLR,MAAO,gBAGFW,IAGTvC,GAAQyF,QE5QalD,GFgRf,SAAUtC,EAAQD,EAASH,GAEjC,YGzRAA,GAAQ,GAERI,EAAOD,QAAUH,EAAQ,IHmSnB,SAAUI,EAAQD,KAMlB,SAAUC,EAAQD,EAASH,GAEjC,YI7SA,IAAMF,MAEF4C,EAAW1C,EAAQ,GAAc4F,QACjCC,EAAY7F,EAAQ,GAAe4F,QACnCE,EAAkB9F,EAAQ,GAAe4F,QACzCG,EAAe/F,EAAQ,GAAkB4F,OAK7C9F,GAAQ4E,KAAO1E,EAAQ,GACvBF,EAAQuD,UAAYrD,EAAQ,GAC5BF,EAAQkG,SAAWhG,EAAQ,GAC3BF,EAAQmG,SAAWjG,EAAQ,GAC3BF,EAAQoG,mBAAqBlG,EAAQ,IACrCF,EAAQqG,oBAAsBnG,EAAQ,IACtCF,EAAQsG,eAAiBpG,EAAQ,IACjCF,EAAQ2F,SAAWzF,EAAQ,IAE3BF,EAAQgF,aAAe,GAAIiB,GAC3BjG,EAAQkG,SAAW,GAAItD,GACvB5C,EAAQuG,UAAY,GAAIR,GACxB/F,EAAQwG,IAAM,GAAIR,GAAgB,YAElChG,EAAQwD,KAAO,WACbxD,EAAQoG,mBAAmB5C,OAC3BxD,EAAQmG,SAAS3C,OACjBxD,EAAQsG,eAAe9C,QAGzBlD,EAAOD,QAAUL,GJoTX,SAAUM,EAAQD,EAASH,GAEjC,YASA,SAAS2B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhHhB,OAAOC,eAAeZ,EAAS,cAC7B4B,OAAO,GAGT,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI9B,GAAI,EAAGA,EAAI8B,EAAMC,OAAQ/B,IAAK,CAAE,GAAIgC,GAAaF,EAAM9B,EAAIgC,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWrB,cAAe,EAAU,SAAWqB,KAAYA,EAAWC,UAAW,GAAMxB,OAAOC,eAAemB,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUR,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBJ,EAAYN,UAAWiB,GAAiBC,GAAaR,EAAiBJ,EAAaY,GAAqBZ,MK3V3gBgE,ELkWL,WK9Vd,QAAAA,KAAclE,EAAAgB,KAAAkD,GACZ/C,SAASyD,KAAKtD,iBAAiB,QAASN,KAAK6D,oBLsa/C,MA1DAxE,GAAa6D,IACXtD,IAAK,qBACLR,MAAO,SKxWU0E,GACjB,GAAIJ,GAAaI,EAAMC,eAAkBD,EAAME,cAAcD,eAAiBtB,OAAOsB,cAMjFE,EAAQP,EAAUO,MAClBlD,EAAO2C,EAAUQ,QAAQ,QACzBC,EAAO,IAQX,IANAL,EAAMM,kBACNN,EAAMvC,iBAKFR,EAAM,CAIR,GAAIsD,GAAQ,iFAERtD,GAAKuD,MAAMD,GACblH,QAAQkG,SAAS7B,QAAQC,KAAQV,IAEjCZ,SAASC,eAAe,mBAAmBhB,MAAQ2B,EAIvD,GAAIkD,EAIF,IAAK,GAAIvG,GAAIuG,EAAMxE,OAAS,EAAG/B,GAAK,IAAKA,EACvC,GAAuC,IAAnCuG,EAAMvG,GAAGsE,KAAKuC,QAAQ,SAAgB,CACxCJ,EAAOF,EAAMvG,GAAG8G,WAChB,OAKN,GAAa,OAATL,EAAe,CAIjB,GAAIM,GAAS,GAAIC,WAEjBD,GAAOE,OAAS,WACdxH,QAAQkG,SAASuB,WAAWT,IAE9BM,EAAOI,cAAcV,QL6WlBjB,IAGT1F,GAAQyF,QK9aaC,GLkbf,SAAUzF,EAAQD,EAASH,GAEjC,YASA,SAAS2B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhHhB,OAAOC,eAAeZ,EAAS,cAC7B4B,OAAO,GAGT,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI9B,GAAI,EAAGA,EAAI8B,EAAMC,OAAQ/B,IAAK,CAAE,GAAIgC,GAAaF,EAAM9B,EAAIgC,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWrB,cAAe,EAAU,SAAWqB,KAAYA,EAAWC,UAAW,GAAMxB,OAAOC,eAAemB,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUR,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBJ,EAAYN,UAAWiB,GAAiBC,GAAaR,EAAiBJ,EAAaY,GAAqBZ,MMtb3gBiE,ENkcC,WM5bpB,QAAAA,GAAY2B,GAAS9F,EAAAgB,KAAAmD,GACnBnD,KAAK8E,QAAU3E,SAAS4E,cAAcD,GAEtC9E,KAAK8E,QAAQxE,iBAAiB,YAAaN,KAAKgF,SAASxE,KAAKR,OAC9DA,KAAK8E,QAAQxE,iBAAiB,WAAYN,KAAKgF,SAASxE,KAAKR,OAC7DA,KAAK8E,QAAQxE,iBAAiB,YAAaN,KAAKiF,WAAWzE,KAAKR,OAChEA,KAAK8E,QAAQxE,iBAAiB,OAAQN,KAAKkF,KAAK1E,KAAKR,ONyfvD,MA1CAX,GAAa8D,IACXvD,IAAK,WACLR,MAAO,SMxcA0E,GACPA,EAAMvC,iBAENvB,KAAK8E,QAAQK,UAAUC,IAAI,oBNmd3BxF,IAAK,aACLR,MAAO,SM3cE0E,GACTA,EAAMvC,iBAENvB,KAAK8E,QAAQK,UAAUE,OAAO,oBNqd9BzF,IAAK,OACLR,MAAO,SM9cJ0E,GACH9D,KAAK8E,QAAQK,UAAUE,OAAO,gBAE9B,IAAI3D,GAAOoC,EAAMwB,aAAaC,MAAM,EAEpCpI,SAAQkG,SAASuB,WAAWlD,GAE5BoC,EAAMvC,qBNkdD4B,IAGT3F,GAAQyF,QMxgBaE,GN4gBf,SAAU1F,EAAQD,EAASH,GAEjC,YAkBA,SAAS2B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhHhB,OAAOC,eAAeZ,EAAS,cAC7B4B,OAAO,GAGT,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI9B,GAAI,EAAGA,EAAI8B,EAAMC,OAAQ/B,IAAK,CAAE,GAAIgC,GAAaF,EAAM9B,EAAIgC,GAAWpB,WAAaoB,EAAWpB,aAAc,EAAOoB,EAAWrB,cAAe,EAAU,SAAWqB,KAAYA,EAAWC,UAAW,GAAMxB,OAAOC,eAAemB,EAAQG,EAAWE,IAAKF,IAAiB,MAAO,UAAUR,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBJ,EAAYN,UAAWiB,GAAiBC,GAAaR,EAAiBJ,EAAaY,GAAqBZ,MO5hB3gBkE,EPgiBF,WO3hBjB,QAAAA,KAAcpE,EAAAgB,KAAAoD,GACZpD,KAAKwF,cAAgBrF,SAAS4E,cAAc,YAC5C/E,KAAKyF,YAActF,SAAS4E,cAAc,mCAC1C/E,KAAK0F,aAAe,mBP4kBtB,MAhCArG,GAAa+D,IACXxD,IAAK,OACLR,MAAO,SOtiBJ6C,GACkBjC,KAAKwF,cAAcT,cAAc,gCAEvCY,YAAc1D,EAC7BjC,KAAKwF,cAAcL,UAAUC,IAAIpF,KAAK0F,iBP8iBtC9F,IAAK,OACLR,MAAO,WOxiBPY,KAAKwF,cAAcL,UAAUE,OAAOrF,KAAK0F,iBPmjBzC9F,IAAK,WACLR,MAAO,SO5iBAwG,GACP5F,KAAKyF,YAAYI,MAAMC,MAAQF,EAAW,QPgjBrCxC,IAGT5F,GAAQyF,QOvlBaG,GP2lBf,SAAU3F,EAAQD,EAASH,IQrmBjC,SAAA0I,EAAA1E,GAAe5D,EAAAD,QAAA6D,KAA6KrB,EAAA,WAAiB,gBAAA+F,GAAmB,QAAA1E,GAAA2E,GAAc,GAAAxH,EAAAwH,GAAA,MAAAxH,GAAAwH,GAAAxI,OAA4B,IAAAyI,GAAAzH,EAAAwH,IAAYtI,EAAAsI,EAAArI,GAAA,EAAAH,WAAqB,OAAAuI,GAAAC,GAAApI,KAAAqI,EAAAzI,QAAAyI,IAAAzI,QAAA6D,GAAA4E,EAAAtI,GAAA,EAAAsI,EAAAzI,QAA2D,GAAAgB,KAAS,OAAA6C,GAAAxD,EAAAkI,EAAA1E,EAAAvD,EAAAU,EAAA6C,EAAAtD,EAAA,SAAAgI,EAAAvH,EAAAwH,GAAuC3E,EAAAnD,EAAA6H,EAAAvH,IAAAL,OAAAC,eAAA2H,EAAAvH,GAAqCH,cAAA,EAAAC,YAAA,EAAAC,IAAAyH,KAAsC3E,EAAA7C,EAAA,SAAAuH,GAAiB,GAAAvH,GAAAuH,KAAAtH,WAAA,WAAiC,MAAAsH,GAAA9C,SAAiB,WAAY,MAAA8C,GAAU,OAAA1E,GAAAtD,EAAAS,EAAA,IAAAA,MAAsB6C,EAAAnD,EAAA,SAAA6H,EAAA1E,GAAmB,MAAAlD,QAAAS,UAAAC,eAAAjB,KAAAmI,EAAA1E,IAAiDA,EAAAvC,EAAA,GAAAuC,IAAAtC,EAAA,KAAiB,SAAAgH,EAAA1E,EAAA7C,GAAkB,YAAauH,GAAAvI,QAAA,WAAqB,GAAAuI,GAAA,SAAAA,GAAkB,MAAAA,aAAAnE,UAA8B,QAAOhE,KAAA,SAAAyD,GAAiB,GAAAA,KAAAT,IAAA,CAAa,GAAApC,GAAAiE,OAAAyD,eAAA,GAAAzD,QAAAyD,eAAA,GAAAzD,QAAA0D,cAAA,qBAAAH,EAAA3E,EAAAJ,UAAA,KAAAgF,EAAA5E,EAAAH,SAAA,aAAgJhD,EAAAmD,EAAAF,OAAA,aAAwBiF,EAAA/E,EAAAL,QAAA,KAAAtD,EAAA2D,EAAAD,MAAAC,EAAAD,MAAAZ,KAAA,KAAAa,EAAAN,MAAA,IAA2D,IAAAM,EAAAgF,OAAA,EAAAhF,EAAAW,KAAAX,EAAAW,MAAA,MAAAX,EAAAN,KAAAM,EAAAN,MAAA,GAAAM,EAAA,gBAAAA,EAAA,mDAA4G,QAAAA,EAAAW,MAAAX,EAAAN,OAAAM,EAAAT,IAAA,KAAA0F,KAAAjF,EAAAT,KAAAS,EAAAT,IAAA,IAAAS,EAAAN,KAAAM,EAAAT,IAAA,IAAAS,EAAAN,MAAAM,EAAAkF,kBAAA/H,EAAA+H,iBAAA,GAAAH,GAAA,kBAAAA,KAAsK,IAAAA,EAAA/E,EAAAN,MAAA,MAAyB,IAAAvC,EAAAgI,KAAAnF,EAAAW,KAAAX,EAAAT,IAAAS,EAAAgF,QAAAN,EAAA1E,EAAAN,MAAA,CAA4C,GAAAjD,GAAA,GAAA8D,SAAmB,QAAA6E,KAAApF,GAAAN,KAAAjD,EAAAgE,OAAA2E,EAAApF,EAAAN,KAAA0F,GAA0CpF,GAAAN,KAAAjD,EAASkI,GAAA,kBAAAA,IAAAxH,EAAAgD,OAAAlB,iBAAA,oBAAAyF,GAA0E,GAAA1E,GAAAqF,SAAAX,EAAAY,OAAAZ,EAAAa,MAAA,IAAqCZ,GAAA3E,KAAK,GAAA7C,EAAAqI,iBAAA,qCAAArI,EAAAsI,mBAAA,WAA6F,OAAAtI,EAAAuI,WAAA,CAAqB,GAAAhB,GAAAvH,EAAAwI,YAAqB,KAAIjB,EAAAkB,KAAAC,MAAAnB,GAAgB,MAAAA,IAAU,MAAAvH,EAAA2I,OAAAlB,EAAAF,GAAA7H,EAAA6H,GAAArI,GAAA,kBAAAA,UAAuDc,EAAA4I,KAAA/F,EAAAN,kBR4mBxvD,SAAUtD,EAAQD,EAASH,IS5mBjC,SAAA0I,EAAA1E,GAAe5D,EAAAD,QAAA6D,KAAuLrB,EAAA,WAAiB,gBAAA+F,GAAmB,QAAA1E,GAAA2E,GAAc,GAAAxH,EAAAwH,GAAA,MAAAxH,GAAAwH,GAAAxI,OAA4B,IAAAU,GAAAM,EAAAwH,IAAYtI,EAAAsI,EAAArI,GAAA,EAAAH,WAAqB,OAAAuI,GAAAC,GAAApI,KAAAM,EAAAV,QAAAU,IAAAV,QAAA6D,GAAAnD,EAAAP,GAAA,EAAAO,EAAAV,QAA2D,GAAAgB,KAAS,OAAA6C,GAAAxD,EAAAkI,EAAA1E,EAAAvD,EAAAU,EAAA6C,EAAAtD,EAAA,SAAAgI,EAAAvH,EAAAwH,GAAuC3E,EAAAnD,EAAA6H,EAAAvH,IAAAL,OAAAC,eAAA2H,EAAAvH,GAAqCH,cAAA,EAAAC,YAAA,EAAAC,IAAAyH,KAAsC3E,EAAA7C,EAAA,SAAAuH,GAAiB,GAAAvH,GAAAuH,KAAAtH,WAAA,WAAiC,MAAAsH,GAAA9C,SAAiB,WAAY,MAAA8C,GAAU,OAAA1E,GAAAtD,EAAAS,EAAA,IAAAA,MAAsB6C,EAAAnD,EAAA,SAAA6H,EAAA1E,GAAmB,MAAAlD,QAAAS,UAAAC,eAAAjB,KAAAmI,EAAA1E,IAAiDA,EAAAvC,EAAA,GAAAuC,IAAAtC,EAAA,KAAiB,SAAAgH,EAAA1E,EAAA7C,GAAkB,YAAa,IAAAwH,GAAA,kBAAAqB,SAAA,gBAAAA,QAAAC,SAAA,SAAAvB,GAA8E,aAAAA,IAAgB,SAAAA,GAAa,MAAAA,IAAA,kBAAAsB,SAAAtB,EAAAwB,cAAAF,QAAAtB,IAAAsB,OAAAzI,UAAA,eAAAmH,IAAoG7H,EAAAM,EAAA,EAAQuH,GAAAvI,QAAA,SAAAuI,GAAsB,GAAA1E,GAAA,IAAW0E,GAAAyB,MAAA,IAAa,IAAAhJ,GAAA,WAAiBuH,EAAAyB,MAAAC,SAAgBrB,EAAA,WAAc/E,EAAAL,OAAA+E,EAAAyB,MAAAjC,QAAwBU,EAAA,WAAc,GAAAzH,GAAA6C,EAAAT,IAAAqF,EAAA5E,EAAAN,KAAArD,EAAA0I,EAAAtI,EAAAuD,EAAAJ,SAAAwF,EAAApF,EAAAH,QAAAnC,EAAAsC,EAAAF,MAAArC,EAAAuC,EAAAD,MAAAzD,EAAA,GAAAiE,UAAA7D,EAAAgI,EAAAyB,MAAAjC,KAAqG,IAAAxH,EAAA0B,OAAA,SAAAiI,GAAA,EAA0BA,EAAA3J,EAAA0B,OAAWiI,IAAA/J,EAAAmE,OAAA,UAAA/D,EAAA2J,GAAA3J,EAAA2J,GAAA1J,UAAuCL,GAAAmE,OAAA,OAAA/D,EAAA,GAAAA,EAAA,GAAAC,KAAqC,WAAAiI,GAAA,qBAAAA,EAAA,YAAAD,EAAAC,IAAA,OAAA0B,KAAA1B,GAAAtI,EAAAmE,OAAA6F,EAAA1B,EAAA0B,GAAsFzJ,GAAAN,MAAQoE,KAAA,OAAAjB,KAAApD,EAAAiD,IAAApC,EAAAwC,OAAAtD,EAAAuD,SAAAnD,EAAAoD,QAAAuF,EAAAtF,MAAApC,EAAAqC,MAAAtC,IAA0E,OAAAiH,GAAApF,KAAA,SAAAqF,GAA0B,IAAAA,EAAApF,IAAA,WAAA2B,SAAAC,IAAA,6CAAgFnB,GAAA2E,CAAI,IAAA9H,GAAAiC,SAAAyH,cAAA,QAAsC1J,GAAA8D,KAAA,OAAAX,KAAAR,UAAA3C,EAAA2J,aAAA,uBAAAxG,KAAAP,QAAA5C,EAAA2J,aAAA,SAAAxG,EAAAP,QAAA5C,EAAAoC,iBAAA,SAAA2F,GAAA,GAAAF,EAAAyB,MAAAtJ,EAAAM,KAAkKuH,QAAQ,SAAAA,EAAA1E,EAAA7C,IAAiB,SAAA6C,EAAA7C,GAAeuH,EAAAvI,QAAc,WAAc,gBAAAuI,GAAmB,QAAA1E,GAAA2E,GAAc,GAAAxH,EAAAwH,GAAA,MAAAxH,GAAAwH,GAAAxI,OAA4B,IAAAU,GAAAM,EAAAwH,IAAYtI,EAAAsI,EAAArI,GAAA,EAAAH,WAAqB,OAAAuI,GAAAC,GAAApI,KAAAM,EAAAV,QAAAU,IAAAV,QAAA6D,GAAAnD,EAAAP,GAAA,EAAAO,EAAAV,QAA2D,GAAAgB,KAAS,OAAA6C,GAAAxD,EAAAkI,EAAA1E,EAAAvD,EAAAU,EAAA6C,EAAAtD,EAAA,SAAAgI,EAAAvH,EAAAwH,GAAuC3E,EAAAnD,EAAA6H,EAAAvH,IAAAL,OAAAC,eAAA2H,EAAAvH,GAAqCH,cAAA,EAAAC,YAAA,EAAAC,IAAAyH,KAAsC3E,EAAA7C,EAAA,SAAAuH,GAAiB,GAAAvH,GAAAuH,KAAAtH,WAAA,WAAiC,MAAAsH,GAAA9C,SAAiB,WAAY,MAAA8C,GAAU,OAAA1E,GAAAtD,EAAAS,EAAA,IAAAA,MAAsB6C,EAAAnD,EAAA,SAAA6H,EAAA1E,GAAmB,MAAAlD,QAAAS,UAAAC,eAAAjB,KAAAmI,EAAA1E,IAAiDA,EAAAvC,EAAA,GAAAuC,IAAAtC,EAAA,KAAiB,SAAAgH,EAAA1E,EAAA7C,GAAkB,YAAauH,GAAAvI,QAAA,WAAqB,GAAAuI,GAAA,SAAAA,GAAkB,MAAAA,aAAAnE,UAA8B,QAAOhE,KAAA,SAAAyD,GAAiB,GAAAA,KAAAT,IAAA,CAAa,GAAApC,GAAAiE,OAAAyD,eAAA,GAAAzD,QAAAyD,eAAA,GAAAzD,QAAA0D,cAAA,qBAAAH,EAAA3E,EAAAJ,UAAA,KAAA/C,EAAAmD,EAAAH,SAAA,aAAgJkF,EAAA/E,EAAAF,OAAA,aAAwB8E,EAAA5E,EAAAL,QAAA,KAAAtD,EAAA2D,EAAAD,MAAAC,EAAAD,MAAAZ,KAAA,KAAAa,EAAAN,MAAA,IAA2D,IAAAM,EAAAgF,OAAA,EAAAhF,EAAAW,KAAAX,EAAAW,MAAA,MAAAX,EAAAN,KAAAM,EAAAN,MAAA,GAAAM,EAAA,gBAAAA,EAAA,mDAA4G,QAAAA,EAAAW,MAAAX,EAAAN,OAAAM,EAAAT,IAAA,KAAA0F,KAAAjF,EAAAT,KAAAS,EAAAT,IAAA,IAAAS,EAAAN,KAAAM,EAAAT,IAAA,IAAAS,EAAAN,MAAAM,EAAAkF,kBAAA/H,EAAA+H,iBAAA,GAAAN,GAAA,kBAAAA,KAAA,IAAAA,EAAA5E,EAAAN,MAAA,MAA4L,IAAAvC,EAAAgI,KAAAnF,EAAAW,KAAAX,EAAAT,IAAAS,EAAAgF,QAAAN,EAAA1E,EAAAN,MAAA,CAA4C,GAAAjD,GAAA,GAAA8D,SAAmB,QAAA6E,KAAApF,GAAAN,KAAAjD,EAAAgE,OAAA2E,EAAApF,EAAAN,KAAA0F,GAA0CpF,GAAAN,KAAAjD,EAASkI,GAAA,kBAAAA,IAAAxH,EAAAgD,OAAAlB,iBAAA,oBAAAyF,GAA0E,GAAA1E,GAAAqF,SAAAX,EAAAY,OAAAZ,EAAAa,MAAA,IAAqCZ,GAAA3E,KAAK,GAAA7C,EAAAqI,iBAAA,qCAAArI,EAAAsI,mBAAA,WAA6F,OAAAtI,EAAAuI,WAAA,CAAqB,GAAAhB,GAAAvH,EAAAwI,YAAqB,KAAIjB,EAAAkB,KAAAC,MAAAnB,GAAgB,MAAAA,IAAU,MAAAvH,EAAA2I,OAAAjJ,EAAA6H,GAAAK,EAAAL,GAAArI,GAAA,kBAAAA,UAAuDc,EAAA4I,KAAA/F,EAAAN,2BTmnBx0G,SAAUtD,EAAQD,EAASH,GAEjC,YU1mBAI,GAAOD,QAAU,WACf,GAAMsK,IACJxE,SAAU,cACVyE,WAAY,yBAyCVC,EAAiB,SAAUC,EAASC,GACtCD,EAAQ3H,iBAAiB,QAAS6H,GAClCF,EAAQ3H,iBAAiB,SAAU4H,IAQjCE,EAAY,SAAUH,GACxBA,EAAQ3H,iBAAiB,QAAS+H,IAMhCA,EAAiB,WACErI,KACS+E,cAAc,SAAS+C,EAAMxE,SAAS,KAE3DmE,SAOPU,EAAiB,SAAUrE,GAC7B,GAAIwE,GAAY7F,OAAO8F,eACnBC,EAAYrI,SAASsI,aAEzBD,GAAME,mBAAmB1I,MACzBsI,EAAUK,kBACVL,EAAUM,SAASJ,GAEnBrI,SAAS0I,YAAY,QACrBP,EAAUK,iBAMV,IAAIG,GAAc,GAAIC,aAAY,UAChCC,SAAS,EACTC,YAAY,EACZC,OAAQV,EAAMW,YAGhBnJ,MAAKoJ,cAAcN,GACnBhF,EAAMM,kBAGR,QACEzD,KAvFS,SAAUuH,GACnB,GAAImB,GAAQlJ,SAASmJ,kBAAkBxB,EAAMxE,SAE7C,KAAK+F,EAEH,WADA9G,SAAQC,IAAI,iCAId,KAAK,GAAI9E,GAAI,EAAGA,EAAI2L,EAAM5J,OAAQ/B,IAChCsK,EAAeqB,EAAM3L,GAAIwK,EAK3B,KAAK,GAFDqB,GAAkBpJ,SAASmJ,kBAAkBxB,EAAMC,YAE9CrK,EAAI,EAAGA,EAAI6L,EAAgB9J,OAAQ/B,IAC1C0K,EAAUmB,EAAgB7L,GAG5B6E,SAAQC,IAAI,+BAEZxC,KAAKwJ,gBAAkBrJ,SAAS4E,cAAc,oBAE1C/E,KAAKwJ,iBACPxJ,KAAKwJ,gBAAgBlJ,iBAAiB,QAASnD,QAAQqG,oBAAoBiG,kBAAkB,SV8rB7F,SAAUhM,EAAQD,EAASH,GAEjC,YWluBAI,GAAOD,QAAU,WA4Bf,OACEmD,KA5BS,WACT,GAAI+I,GAAYvJ,SAAS4E,cAAc,iBAEvC5E,UAASG,iBAAiB,mBAAoB,WAC5C,IAAKoJ,EAAW,OAAO,CAEvB,IAAIC,GAAYxJ,SAAS4E,cAAc,kBACnC6E,EAAeD,EAAUE,aAAa,YACtCC,EAAM,GAAIC,MAEdD,GAAIE,IAAMJ,EACVF,EAAU7D,MAAMoE,OAAS,YACzBP,EAAU7D,MAAMqE,WAAa,cAE7BJ,EAAInF,OAAS,WACXgF,EAAUxE,UAAUC,IAAI,mBAExBuE,EAAU9D,MAAMsE,gBAAkB,OAASP,EAAe,IAE1DQ,WAAW,WACTV,EAAU7D,MAAMwE,WAAa,cAC7BX,EAAU7D,MAAMoE,OAAS,QACxB,cX0vBL,SAAUxM,EAAQD,EAASH,GAEjC,YY5xBAI,GAAOD,QAAU,WACf,GAAM8M,IAEJC,kBAAmB,wBAGnBC,sBAAuB,aAInBC,EAAsBtK,SAAS4E,cAAcuF,EAAIC,mBAMnDG,QAyBJ,QACEjB,iBArBqB,SAAU3F,GAE/B,GAAIA,EAAM6G,SAAW7G,EAAM8G,SAA2B,IAAhB9G,EAAM+G,MAC1C,OAAO,CAGT/G,GAAMvC,iBAGFmJ,GACFI,aAAaJ,GAIfD,EAAoBtF,UAAUE,OAAOiF,EAAIE,uBACzCE,EAA6BN,WAAW,WACtCK,EAAoBtF,UAAUC,IAAIkF,EAAIE,wBAxBtB,WZk0BhB,SAAU/M,EAAQD,EAASH,GAEjC,Ya70BAI,GAAOD,QAAU,WASf,OACEmD,KATS,WACT,GAAIoK,GAAYtI,OAAOuI,UAAUD,SAE7BA,GAAUxG,QAAQ,WAAa,GAAKwG,EAAUxG,QAAQ,UAAY,GACpEpE,SAASyD,KAAKuB,UAAUC,IAAI,gBb+1B5B,SAAU3H,EAAQD,Gc12BxB,GAAAsF,GAAA,SAAAzB,GAAyB,QAAA0E,GAAAC,GAAc,GAAAxH,EAAAwH,GAAA,MAAAxH,GAAAwH,GAAAxI,OAA4B,IAAAM,GAAAU,EAAAwH,IAAYtI,EAAAsI,EAAArI,GAAA,EAAAH,WAAqB,OAAA6D,GAAA2E,GAAApI,KAAAE,EAAAN,QAAAM,IAAAN,QAAAuI,GAAAjI,EAAAH,GAAA,EAAAG,EAAAN,QAA2D,GAAAgB,KAAS,OAAAuH,GAAAlI,EAAAwD,EAAA0E,EAAAjI,EAAAU,EAAAuH,EAAArI,EAAA,SAAA2D,GAAmC,MAAAA,IAAS0E,EAAAhI,EAAA,SAAAsD,EAAA7C,EAAAwH,GAAqBD,EAAA7H,EAAAmD,EAAA7C,IAAAL,OAAAC,eAAAiD,EAAA7C,GAAqCH,cAAA,EAAAC,YAAA,EAAAC,IAAAyH,KAAsCD,EAAAvH,EAAA,SAAA6C,GAAiB,GAAA7C,GAAA6C,KAAA5C,WAAA,WAAiC,MAAA4C,GAAA4B,SAAiB,WAAY,MAAA5B,GAAU,OAAA0E,GAAAhI,EAAAS,EAAA,IAAAA,MAAsBuH,EAAA7H,EAAA,SAAAmD,EAAA0E,GAAmB,MAAA5H,QAAAS,UAAAC,eAAAjB,KAAAyD,EAAA0E,IAAiDA,EAAAjH,EAAA,GAAAiH,IAAAhH,EAAA,KAAiB,SAAAsC,EAAA0E,EAAAvH,GAAkB,YAAa6C,GAAA7D,QAAA,WAAqB,GAAA6D,IAAOyD,QAAA,eAAAmG,aAAA,aAAAC,SAAA,oBAAAC,MAAA,8BAAAC,UAAA,6BAAA5D,MAAA,oBAAA6D,IAAA,qBAAAC,YAAA,4BAAmPvF,EAAA,SAAAA,GAAe,GAAAvH,GAAA2B,SAAAyH,cAAA,OAAA5B,EAAA7F,SAAAyH,cAAA,OAAA9J,EAAAiI,EAAAhD,QAAArF,EAAAqI,EAAAF,KAA0F,OAAArH,GAAA2G,UAAAC,IAAA/D,EAAA4J,cAAAvN,GAAAc,EAAA2G,UAAAC,IAAA/D,EAAA4J,aAAA,KAAAvN,GAAAc,EAAA+M,UAAAzN,EAAAkI,EAAAb,UAAAC,IAAA/D,EAAA6J,UAAAlF,EAAA1F,iBAAA,QAAA9B,EAAA6G,OAAA7E,KAAAhC,MAAAgN,YAAAxF,GAAAxH,EAA4L,QAAOiN,MAAA1F,EAAA2F,QAAA,SAAAlN,GAA4B,GAAAwH,GAAAD,EAAAvH,GAAAV,EAAAqC,SAAAyH,cAAA,OAAAlK,EAAAyC,SAAAyH,cAAA,UAAA3B,EAAA9F,SAAAyH,cAAA,UAAA1J,EAAA8H,EAAAjB,cAAA1D,EAAA6J,UAAAnN,EAAAS,EAAAmN,cAAA5M,EAAAP,EAAAoN,SAA+K,OAAA9N,GAAAqH,UAAAC,IAAA/D,EAAAiK,aAAA5N,EAAA6N,UAAA/M,EAAAqN,QAAA,UAAA5F,EAAAsF,UAAA/M,EAAAsN,YAAA,SAAApO,EAAAyH,UAAAC,IAAA/D,EAAAgK,KAAApF,EAAAd,UAAAC,IAAA/D,EAAAgK,KAAA3N,EAAAyH,UAAAC,IAAA/D,EAAA8J,OAAAlF,EAAAd,UAAAC,IAAA/D,EAAA+J,WAAArN,GAAA,kBAAAA,KAAAkI,EAAA3F,iBAAA,QAAAvC,GAAAG,EAAAoC,iBAAA,QAAAvC,IAAAgB,GAAA,kBAAAA,IAAArB,EAAA4C,iBAAA,QAAAvB,GAAArB,EAAA4C,iBAAA,QAAA0F,EAAAX,OAAA7E,KAAAwF,IAAAC,EAAA3F,iBAAA,QAAA0F,EAAAX,OAAA7E,KAAAwF,IAAAlI,EAAA0N,YAAA9N,GAAAI,EAAA0N,YAAAvF,GAAAD,EAAAwF,YAAA1N,GAAAkI,GAA0e+F,OAAA,SAAAvN,GAAoB,GAAAwH,GAAAD,EAAAvH,GAAAV,EAAAqC,SAAAyH,cAAA,OAAAlK,EAAAyC,SAAAyH,cAAA,UAAA3B,EAAA9F,SAAAyH,cAAA,SAAA1J,EAAA8H,EAAAjB,cAAA1D,EAAA6J,UAAAnN,EAAAS,EAAAmN,cAAA5M,EAAAP,EAAAoN,SAA8K,OAAA9N,GAAAqH,UAAAC,IAAA/D,EAAAiK,aAAA5N,EAAA6N,UAAA/M,EAAAqN,QAAA,KAAAnO,EAAAyH,UAAAC,IAAA/D,EAAAgK,KAAA3N,EAAAyH,UAAAC,IAAA/D,EAAA8J,OAAAlF,EAAAd,UAAAC,IAAA/D,EAAAmG,OAAAhJ,EAAAwN,aAAA/F,EAAA4B,aAAA,cAAArJ,EAAAwN,aAAAxN,EAAAyE,UAAAgD,EAAA7G,MAAAZ,EAAAyE,SAAAzE,EAAAyN,YAAAhG,EAAAjE,KAAAxD,EAAAyN,WAAAlO,GAAA,kBAAAA,IAAAG,EAAAoC,iBAAA,QAAAvC,GAAAgB,GAAA,kBAAAA,IAAArB,EAAA4C,iBAAA,mBAA4XvB,EAAAkH,EAAA7G,SAAW1B,EAAA4C,iBAAA,QAAA0F,EAAAX,OAAA7E,KAAAwF,IAAAlI,EAAA0N,YAAAvF,GAAAnI,EAAA0N,YAAA9N,GAAAsI,EAAAwF,YAAA1N,GAAAkI,GAAoGlB,QAAA,WAAoB,GAAAiB,GAAA5F,SAAAyH,cAAA,MAAoC,OAAA7B,GAAAZ,UAAAC,IAAA/D,EAAAyD,SAAAiB,QAAyC,SAAA1E,EAAA0E,KAAgB,SAAA1E,EAAA0E,EAAAvH,GAAiB;;;;;;;;AAQtjF6C,EAAA7D,QAAA,WAAqB,QAAA6D,KAAa,GAAA3D,EAAA,QAAcA,GAAAsI,EAAAlB,UAAA3E,SAAAyD,KAAA4H,YAAA9N,GAA2C,QAAAqI,MAAc,GAAAA,EAAAhD,QAAA,CAAc1B,GAAI,IAAA7C,GAAA,KAAAyH,EAAAF,EAAA/C,MAAA,GAAyB,QAAA+C,EAAA/D,MAAe,cAAAxD,EAAAwH,EAAA0F,QAAA3F,EAA6B,MAAM,cAAAvH,EAAAwH,EAAA+F,OAAAhG,EAA2B,MAAM,SAAAvH,EAAAwH,EAAAyF,MAAA1F,GAAAtD,OAAA2H,WAAA,WAAkD5L,EAAA6G,UAAWY,GAAIvI,EAAA8N,YAAAhN,KAAA2G,UAAAC,IAAAtH,IAAqCU,EAAA,EAAK,IAAAwH,GAAAxH,EAAA,GAAAV,EAAA,wBAAAJ,EAAA,IAA4C,QAAO0E,KAAA2D,QAGrYtI,GAAAD,QAAAsF","file":"./public/build/bundle.js","sourcesContent":["var capella =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * @class Uploader\n * Handle images uploading\n *\n * @property {String} uploadUrl — url to upload images\n * @property {HTMLElement} uploadFilButton — transport initialization trigger\n * @property {HTMLElement} uploadLinkField — input to insert image link\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Uploader = function () {\n  /**\n   * Uploader class constructor. Get needed elements and bind events\n   */\n  function Uploader() {\n    _classCallCheck(this, Uploader);\n\n    this.uploadUrl = '/upload';\n    this.uploadFileButton = document.getElementById('uploadFileButton');\n    this.uploadLinkField = document.getElementById('uploadLinkField');\n\n    if (this.uploadFileButton) {\n      this.uploadFileButton.addEventListener('click', this.uploadByTransport.bind(this), false);\n    }\n\n    if (this.uploadLinkField) {\n      this.uploadLinkField.addEventListener('keydown', this.uploadByUrl.bind(this), false);\n    }\n  }\n\n  /**\n   * Init codex.transport to select image from user's computer\n   */\n\n\n  _createClass(Uploader, [{\n    key: 'uploadByTransport',\n    value: function uploadByTransport() {\n      capella.transport.init({\n        url: this.uploadUrl,\n        multiple: false,\n        accept: 'image/png, image/gif, image/jpg, image/jpeg, image/bmp',\n        data: {},\n        before: this.before,\n        progress: this.progress,\n        success: this.success,\n        error: this.error,\n        after: this.after\n      });\n    }\n\n    /**\n     * Handle upload by image url\n     *\n     * @param e\n     */\n\n  }, {\n    key: 'uploadByUrl',\n    value: function uploadByUrl(e) {\n      /** Check for Enter key */\n      if (e.keyCode !== 13) {\n        return;\n      }\n      e.preventDefault();\n\n      if (this.uploadLinkField) {\n        this.upload({ 'link': this.uploadLinkField.value });\n      }\n    }\n\n    /**\n     * Handler to upload blob data using FormData\n     *\n     * @param {Blob|File} file — file to send\n     */\n\n  }, {\n    key: 'uploadBlob',\n    value: function uploadBlob(file) {\n      var formData = new FormData();\n\n      this.currentFileName = file.name;\n\n      formData.append('file', file, file.name);\n\n      this.upload(formData);\n    }\n\n    /**\n     * Send AJAX request to uploadUrl with passed data\n     *\n     * @param {*} data — data to send\n     */\n\n  }, {\n    key: 'upload',\n    value: function upload(data) {\n      capella.ajax.call({\n        type: 'POST',\n        url: this.uploadUrl,\n        data: data,\n        before: this.before.bind(this),\n        progress: this.progress,\n        success: this.success,\n        error: this.error,\n        after: this.after\n      });\n    }\n\n    /**\n     * Method to call before upload starts\n     */\n\n  }, {\n    key: 'before',\n    value: function before(data) {\n      var filename = void 0;\n\n      if (data instanceof FormData) {\n        filename = this.currentFileName;\n      }\n      if (data && data.link) {\n        filename = data.link;\n      }\n      if (data[0] instanceof File) {\n        filename = data[0].name;\n      }\n\n      capella.uploadScreen.show(filename);\n    }\n\n    /**\n     *  Handle upload progress\n     *\n     * @param percentage — upload percentage\n     */\n\n  }, {\n    key: 'progress',\n    value: function progress(percentage) {\n      percentage = 0.95 * percentage;\n      capella.uploadScreen.progress(percentage);\n    }\n\n    /**\n     * Successful upload handler\n     *\n     * @param {Object} response — response object\n     * @param {Boolean} response.success — upload status\n     * @param {String} response.url — if upload was successful, contains uploaded image url\n     * @param {String} response.id — if upload was succesful, contains uploaded image id\n     * @param {String} response.message — if upload failed, contains reason\n     */\n\n  }, {\n    key: 'success',\n    value: function success(response) {\n      console.log(response);\n\n      if (response.success) {\n        capella.uploadScreen.progress(100);\n\n        /** Redirect to uploaded image */\n        window.location.href = '/image/' + response.id;\n      } else {\n        capella.uploadScreen.hide();\n      }\n    }\n\n    /**\n     * Upload error handler\n     *\n     * @param {Error} error — raised error\n     */\n\n  }, {\n    key: 'error',\n    value: function error(response) {\n      capella.notifier.show({\n        message: '<i class=\\'cdx-notify__warning-sign\\'></i>' + response.message,\n        time: 7000\n      });\n      capella.uploadScreen.hide();\n    }\n\n    /**\n     * Method to call after upload\n     */\n\n  }, {\n    key: 'after',\n    value: function after() {}\n  }]);\n\n  return Uploader;\n}();\n\nexports.default = Uploader;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Require CSS build\n */\n__webpack_require__(2);\n\nmodule.exports = __webpack_require__(3);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar capella = {};\n\nvar Uploader = __webpack_require__(0).default;\nvar Clipboard = __webpack_require__(4).default;\nvar DNDFileUploader = __webpack_require__(5).default;\nvar UploadScreen = __webpack_require__(6).default;\n\n/**\n * Require modules\n */\ncapella.ajax = __webpack_require__(7);\ncapella.transport = __webpack_require__(8);\ncapella.uploader = __webpack_require__(0);\ncapella.copyable = __webpack_require__(9);\ncapella.progressiveLoading = __webpack_require__(10);\ncapella.notificationToggler = __webpack_require__(11);\ncapella.checkForSafari = __webpack_require__(12);\ncapella.notifier = __webpack_require__(13);\n\ncapella.uploadScreen = new UploadScreen();\ncapella.uploader = new Uploader();\ncapella.clipboard = new Clipboard();\ncapella.dnd = new DNDFileUploader('.capella');\n\ncapella.init = function () {\n  capella.progressiveLoading.init();\n  capella.copyable.init();\n  capella.checkForSafari.init();\n};\n\nmodule.exports = capella;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Paste from clipboard module\n */\nvar Clipboard = function () {\n  /**\n   * Initialization of Clipboard module\n   */\n  function Clipboard() {\n    _classCallCheck(this, Clipboard);\n\n    document.body.addEventListener('paste', this.pasteFromClipboard);\n  }\n\n  /**\n   * Pasted image from clipboard\n   */\n\n\n  _createClass(Clipboard, [{\n    key: 'pasteFromClipboard',\n    value: function pasteFromClipboard(event) {\n      var clipboard = event.clipboardData || event.originalEvent.clipboardData || window.clipboardData;\n\n      /**\n       * items - for images\n       * data - for links\n       */\n      var items = clipboard.items;\n      var data = clipboard.getData('Text');\n      var blob = null;\n\n      event.stopPropagation();\n      event.preventDefault();\n\n      /**\n       * Checking if clipboard has a link\n       */\n      if (data) {\n        /**\n         * Parsing on valid URL\n         */\n        var regex = /^((http[s]?):\\/)?\\/?([^:\\/\\s]+)((\\/\\w+)*\\/)([\\w\\-\\.]+[^#?\\s]+)(.*)?(#[\\w\\-]+)?$/;\n\n        if (data.match(regex)) {\n          capella.uploader.upload({ 'link': data });\n        } else {\n          document.getElementById('uploadLinkField').value = data;\n        }\n      }\n\n      if (items) {\n        /**\n         * Checking all clipboard's files and choosing last image file\n         */\n        for (var i = items.length - 1; i >= 0; --i) {\n          if (items[i].type.indexOf('image') === 0) {\n            blob = items[i].getAsFile();\n            break;\n          }\n        }\n      }\n\n      if (blob !== null) {\n        /**\n         * FilerReader is used for asynchronous image reading from blob: function at onload\n         */\n        var reader = new FileReader();\n\n        reader.onload = function () {\n          capella.uploader.uploadBlob(blob);\n        };\n        reader.readAsDataURL(blob);\n      }\n    }\n  }]);\n\n  return Clipboard;\n}();\n\nexports.default = Clipboard;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Class for working with drag and drop files to browser\n *\n * @class DNDFileUploader\n *\n * @property {HTMLElement} wrapper — page wrapper element\n *\n */\nvar DNDFileUploader = function () {\n  /**\n   * Bind drag and drop events\n   *\n   * @param {String} wrapper - page wrapper selector\n   */\n  function DNDFileUploader(wrapper) {\n    _classCallCheck(this, DNDFileUploader);\n\n    this.wrapper = document.querySelector(wrapper);\n\n    this.wrapper.addEventListener('dragenter', this.dragover.bind(this));\n    this.wrapper.addEventListener('dragover', this.dragover.bind(this));\n    this.wrapper.addEventListener('dragleave', this.drageleave.bind(this));\n    this.wrapper.addEventListener('drop', this.drop.bind(this));\n  }\n\n  /**\n   *\n   * File dragover handler\n   *\n   * @param {Event} event — dragover event\n   */\n\n\n  _createClass(DNDFileUploader, [{\n    key: 'dragover',\n    value: function dragover(event) {\n      event.preventDefault();\n\n      this.wrapper.classList.add('capella--dark');\n    }\n\n    /**\n     *\n     * File dragleave handler\n     *\n     * @param {Event} event — dragleave event\n     */\n\n  }, {\n    key: 'drageleave',\n    value: function drageleave(event) {\n      event.preventDefault();\n\n      this.wrapper.classList.remove('capella--dark');\n    }\n\n    /**\n     * File drop handler\n     *\n     * @param {Event} event — drop event\n     */\n\n  }, {\n    key: 'drop',\n    value: function drop(event) {\n      this.wrapper.classList.remove('capella--dark');\n\n      var file = event.dataTransfer.files[0];\n\n      capella.uploader.uploadBlob(file);\n\n      event.preventDefault();\n    }\n  }]);\n\n  return DNDFileUploader;\n}();\n\nexports.default = DNDFileUploader;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Class to control upload screen appearance\n *\n * @property {HTMLElement} mainContainer — page wrapper\n * @property {HTMLElement} progressBar — progress bar slider element\n * @property {String} loadingClass — upload screen class\n *\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar UploadScreen = function () {\n  /**\n   * @constructor\n   * Get needed elements from page\n   */\n  function UploadScreen() {\n    _classCallCheck(this, UploadScreen);\n\n    this.mainContainer = document.querySelector('.capella');\n    this.progressBar = document.querySelector('.js-capella__uploading-progress');\n    this.loadingClass = 'capella--loading';\n  }\n\n  /**\n   * Show loading screen by adding loadingClass to page wrapper\n   *\n   * @param {String} filename — file which is uploading now\n   */\n\n\n  _createClass(UploadScreen, [{\n    key: 'show',\n    value: function show(filename) {\n      var filenameHolder = this.mainContainer.querySelector('.capella__uploading-filename');\n\n      filenameHolder.textContent = filename;\n      this.mainContainer.classList.add(this.loadingClass);\n    }\n\n    /**\n     * Hide loading screen by removing loadingClass from page wrapper\n     */\n\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this.mainContainer.classList.remove(this.loadingClass);\n    }\n\n    /**\n     * Method to control loading progress bar\n     *\n     * @param {Number} percents — uploading percentage\n     */\n\n  }, {\n    key: 'progress',\n    value: function progress(percents) {\n      this.progressBar.style.width = percents + '%';\n    }\n  }]);\n\n  return UploadScreen;\n}();\n\nexports.default = UploadScreen;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.ajax=e():t.ajax=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";t.exports=function(){var t=function(t){return t instanceof FormData};return{call:function(e){if(e&&e.url){var n=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject(\"Microsoft.XMLHTTP\"),r=e.progress||null,a=e.success||function(){},o=e.error||function(){},u=e.before||null,i=e.after?e.after.bind(null,e.data):null;if(e.async=!0,e.type=e.type||\"GET\",e.data=e.data||\"\",e[\"content-type\"]=e[\"content-type\"]||\"application/json; charset=utf-8\",\"GET\"===e.type&&e.data&&(e.url=/\\?/.test(e.url)?e.url+\"&\"+e.data:e.url+\"?\"+e.data),e.withCredentials&&(n.withCredentials=!0),u&&\"function\"==typeof u){if(!1===u(e.data))return}if(n.open(e.type,e.url,e.async),!t(e.data)){var c=new FormData;for(var f in e.data)c.append(f,e.data[f]);e.data=c}r&&\"function\"==typeof r&&n.upload.addEventListener(\"progress\",function(t){var e=parseInt(t.loaded/t.total*100);r(e)},!1),n.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),n.onreadystatechange=function(){if(4===n.readyState){var t=n.responseText;try{t=JSON.parse(t)}catch(t){}200===n.status?a(t):o(t),i&&\"function\"==typeof i&&i()}},n.send(e.data)}}}}()}])});\n//# sourceMappingURL=bundle.js.map\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,e){ true?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.transport=e():t.transport=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=n(1);t.exports=function(t){var e=null;t.input=null;var n=function(){t.input.click()},u=function(){e.before(t.input.files)},a=function(){var n=e.url,a=e.data,i=u,c=e.progress,f=e.success,s=e.error,p=e.after,l=new FormData,d=t.input.files;if(d.length>1)for(var y=0;y<d.length;y++)l.append(\"files[]\",d[y],d[y].name);else l.append(\"file\",d[0],d[0].name);if(null!==a&&\"object\"===(void 0===a?\"undefined\":r(a)))for(var b in a)l.append(b,a[b]);o.call({type:\"POST\",data:l,url:n,before:i,progress:c,success:f,error:s,after:p})};return t.init=function(r){if(!r.url)return void console.log(\"Can't send request because `url` is missed\");e=r;var o=document.createElement(\"INPUT\");o.type=\"file\",e&&e.multiple&&o.setAttribute(\"multiple\",\"multiple\"),e&&e.accept&&o.setAttribute(\"accept\",e.accept),o.addEventListener(\"change\",a,!1),t.input=o,n()},t}({})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";t.exports=function(){var t=function(t){return t instanceof FormData};return{call:function(e){if(e&&e.url){var n=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject(\"Microsoft.XMLHTTP\"),r=e.progress||null,o=e.success||function(){},u=e.error||function(){},a=e.before||null,i=e.after?e.after.bind(null,e.data):null;if(e.async=!0,e.type=e.type||\"GET\",e.data=e.data||\"\",e[\"content-type\"]=e[\"content-type\"]||\"application/json; charset=utf-8\",\"GET\"===e.type&&e.data&&(e.url=/\\?/.test(e.url)?e.url+\"&\"+e.data:e.url+\"?\"+e.data),e.withCredentials&&(n.withCredentials=!0),a&&\"function\"==typeof a&&!1===a(e.data))return;if(n.open(e.type,e.url,e.async),!t(e.data)){var c=new FormData;for(var f in e.data)c.append(f,e.data[f]);e.data=c}r&&\"function\"==typeof r&&n.upload.addEventListener(\"progress\",function(t){var e=parseInt(t.loaded/t.total*100);r(e)},!1),n.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),n.onreadystatechange=function(){if(4===n.readyState){var t=n.responseText;try{t=JSON.parse(t)}catch(t){}200===n.status?o(t):u(t),i&&\"function\"==typeof i&&i()}},n.send(e.data)}}}}()}])})}])});\n//# sourceMappingURL=bundle.js.map\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n  * Copyable module allows you to add text to copy buffer by click\n  * Just add 'js-copyable' name to element and call init method\n  *\n  * @usage\n  * <span name='js-copyable'>Click to copy</span>\n  *\n  * You can pass callback function to init method. Callback will fire when something has copied\n  *\n  * @type {{init}}\n  */\nmodule.exports = function () {\n  var NAMES = {\n    copyable: 'js-copyable',\n    authorized: 'js-copyable-authorize'\n  };\n\n  /**\n   * Take element by name and pass it to prepareElement function\n   *\n   * @param {Function} copiedCallback - fires when something has copied\n   */\n  var init = function init(copiedCallback) {\n    var elems = document.getElementsByName(NAMES.copyable);\n\n    if (!elems) {\n      console.log('There are no copyable elements');\n      return;\n    }\n\n    for (var i = 0; i < elems.length; i++) {\n      prepareElement(elems[i], copiedCallback);\n    }\n\n    var authorizedElems = document.getElementsByName(NAMES.authorized);\n\n    for (var _i = 0; _i < authorizedElems.length; _i++) {\n      authorize(authorizedElems[_i]);\n    }\n\n    console.log('Copyable module initialized');\n\n    this.clipboardButton = document.querySelector('.js-result__copy');\n\n    if (this.clipboardButton) {\n      this.clipboardButton.addEventListener('click', capella.notificationToggler.toggleCopiedIcon, true);\n    }\n  };\n\n  /**\n   * Add click and copied listeners to copyable element\n   *\n   * @param element\n   * @param copiedCallback\n   */\n  var prepareElement = function prepareElement(element, copiedCallback) {\n    element.addEventListener('click', elementClicked);\n    element.addEventListener('copied', copiedCallback);\n  };\n\n  /**\n   * Add click listener for authorized element\n   *\n   * @param element\n   */\n  var authorize = function authorize(element) {\n    element.addEventListener('click', authorizedCopy);\n  };\n\n  /**\n   * Click handler for authorized elements\n   */\n  var authorizedCopy = function authorizedCopy() {\n    var authorizedElem = this;\n    var copyable = authorizedElem.querySelector('[name=' + NAMES.copyable + ']');\n\n    copyable.click();\n  };\n\n  /**\n   * Click handler\n   * Create new range, select copyable element and add range to selection. Then exec 'copy' command\n   */\n  var elementClicked = function elementClicked(event) {\n    var selection = window.getSelection(),\n        range = document.createRange();\n\n    range.selectNodeContents(this);\n    selection.removeAllRanges();\n    selection.addRange(range);\n\n    document.execCommand('copy');\n    selection.removeAllRanges();\n\n    /**\n     * We create new CustomEvent and dispatch it on copyable element\n     * Consist copied text in detail property\n     */\n    var CopiedEvent = new CustomEvent('copied', {\n      bubbles: false,\n      cancelable: false,\n      detail: range.toString()\n    });\n\n    this.dispatchEvent(CopiedEvent);\n    event.stopPropagation();\n  };\n\n  return {\n    init: init\n  };\n}();\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n  * progressiveLoading module allows shows blurred background image,\n  * While high-quality image is loaded\n  *\n  * @usage\n  * <div class=\"js-full-image\" data-src=\"/path/to/your/high-quality-image.jpg\">\n  *   <div class=\"js-blur-image\"></div>\n  * </div>\n  *\n  * @type {{init}}\n  */\nmodule.exports = function () {\n  var init = function init() {\n    var blurImage = document.querySelector('.js-blur-image');\n\n    document.addEventListener('DOMContentLoaded', function () {\n      if (!blurImage) return !1;\n\n      var fullImage = document.querySelector('.js-full-image'),\n          fullImageUrl = fullImage.getAttribute('data-src'),\n          img = new Image();\n\n      img.src = fullImageUrl;\n      blurImage.style.filter = 'blur(5px)';\n      blurImage.style.transition = 'filter 1.5s';\n\n      img.onload = function () {\n        fullImage.classList.add('js-image-loaded'), fullImage.style.backgroundImage = 'url(' + fullImageUrl + ')';\n\n        setTimeout(function () {\n          blurImage.style.background = 'transparent';\n          blurImage.style.filter = 'none';\n        }, 500);\n      };\n    });\n  };\n\n  return {\n    init: init\n  };\n}();\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function () {\n  var CSS = {\n    /* Class of 'Copied' notification element */\n    notificationClass: '.js-result__is-copied',\n\n    /* Class used to hide notification after showTimeout */\n    notificationHideClass: 'js-hidden'\n  };\n\n  /* 'Copied' notification element */\n  var notificationElement = document.querySelector(CSS.notificationClass);\n\n  /* Timeout after which notificationElement will be hidden */\n  var showTimeout = 2000;\n\n  /* Timer to hide notification */\n  var notificationIsVisibleTimer = void 0;\n\n  /**\n   * Show and hide after showTimeout seconds copy-notifications\n   */\n  var toggleCopiedIcon = function toggleCopiedIcon(event) {\n    /* Don't open link in new window unless one of these keys is pressed */\n    if (event.ctrlKey || event.metaKey || event.which === 2) {\n      return false;\n    }\n\n    event.preventDefault();\n\n    /* Clear timer if it was set previously */\n    if (notificationIsVisibleTimer) {\n      clearTimeout(notificationIsVisibleTimer);\n    }\n\n    /* First reveal zero-opacity notification elem, then after timeout hide it again */\n    notificationElement.classList.remove(CSS.notificationHideClass);\n    notificationIsVisibleTimer = setTimeout(function () {\n      notificationElement.classList.add(CSS.notificationHideClass);\n    }, showTimeout);\n  };\n\n  return {\n    toggleCopiedIcon: toggleCopiedIcon\n  };\n}();\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * TEMP fix. Detect Safari and add class to body\n */\n\nmodule.exports = function () {\n  var init = function init() {\n    var userAgent = window.navigator.userAgent;\n\n    if (userAgent.indexOf('Safari') >= 0 && userAgent.indexOf('Chrome') < 0) {\n      document.body.classList.add('safari');\n    }\n  };\n\n  return {\n    init: init\n  };\n}();\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nvar notifier=function(e){function t(r){if(n[r])return n[r].exports;var c=n[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,t),c.l=!0,c.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=2)}([function(e,t,n){\"use strict\";e.exports=function(){var e={wrapper:\"cdx-notifies\",notification:\"cdx-notify\",crossBtn:\"cdx-notify__cross\",okBtn:\"cdx-notify__button--confirm\",cancelBtn:\"cdx-notify__button--cancel\",input:\"cdx-notify__input\",btn:\"cdx-notify__button\",btnsWrapper:\"cdx-notify__btns-wrapper\"},t=function(t){var n=document.createElement(\"DIV\"),r=document.createElement(\"DIV\"),c=t.message,i=t.style;return n.classList.add(e.notification),i&&n.classList.add(e.notification+\"--\"+i),n.innerHTML=c,r.classList.add(e.crossBtn),r.addEventListener(\"click\",n.remove.bind(n)),n.appendChild(r),n};return{alert:t,confirm:function(n){var r=t(n),c=document.createElement(\"div\"),i=document.createElement(\"button\"),a=document.createElement(\"button\"),o=r.querySelector(e.crossBtn),d=n.cancelHandler,s=n.okHandler;return c.classList.add(e.btnsWrapper),i.innerHTML=n.okText||\"Confirm\",a.innerHTML=n.cancelText||\"Cancel\",i.classList.add(e.btn),a.classList.add(e.btn),i.classList.add(e.okBtn),a.classList.add(e.cancelBtn),d&&\"function\"==typeof d&&(a.addEventListener(\"click\",d),o.addEventListener(\"click\",d)),s&&\"function\"==typeof s&&i.addEventListener(\"click\",s),i.addEventListener(\"click\",r.remove.bind(r)),a.addEventListener(\"click\",r.remove.bind(r)),c.appendChild(i),c.appendChild(a),r.appendChild(c),r},prompt:function(n){var r=t(n),c=document.createElement(\"div\"),i=document.createElement(\"button\"),a=document.createElement(\"input\"),o=r.querySelector(e.crossBtn),d=n.cancelHandler,s=n.okHandler;return c.classList.add(e.btnsWrapper),i.innerHTML=n.okText||\"Ok\",i.classList.add(e.btn),i.classList.add(e.okBtn),a.classList.add(e.input),n.placeholder&&a.setAttribute(\"placeholder\",n.placeholder),n.default&&(a.value=n.default),n.inputType&&(a.type=n.inputType),d&&\"function\"==typeof d&&o.addEventListener(\"click\",d),s&&\"function\"==typeof s&&i.addEventListener(\"click\",function(){s(a.value)}),i.addEventListener(\"click\",r.remove.bind(r)),c.appendChild(a),c.appendChild(i),r.appendChild(c),r},wrapper:function(){var t=document.createElement(\"DIV\");return t.classList.add(e.wrapper),t}}}()},function(e,t){},function(e,t,n){\"use strict\";/*!\n * Codex JavaScript Notification module\n * https://github.com/codex-team/js-notifier\n *\n * Codex Team - https://ifmo.su\n *\n * MIT License | (c) Codex 2017\n */\ne.exports=function(){function e(){if(i)return!0;i=r.wrapper(),document.body.appendChild(i)}function t(t){if(t.message){e();var n=null,a=t.time||8e3;switch(t.type){case\"confirm\":n=r.confirm(t);break;case\"prompt\":n=r.prompt(t);break;default:n=r.alert(t),window.setTimeout(function(){n.remove()},a)}i.appendChild(n),n.classList.add(c)}}n(1);var r=n(0),c=\"cdx-notify--bounce-in\",i=null;return{show:t}}()}]);\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = notifier;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// public/build/bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ed338900a4028b8d4190","'use strict';\n\n/**\n * @class Uploader\n * Handle images uploading\n *\n * @property {String} uploadUrl — url to upload images\n * @property {HTMLElement} uploadFilButton — transport initialization trigger\n * @property {HTMLElement} uploadLinkField — input to insert image link\n */\nexport default class Uploader {\n  /**\n   * Uploader class constructor. Get needed elements and bind events\n   */\n  constructor() {\n    this.uploadUrl = '/upload';\n    this.uploadFileButton = document.getElementById('uploadFileButton');\n    this.uploadLinkField = document.getElementById('uploadLinkField');\n\n    if (this.uploadFileButton) {\n      this.uploadFileButton.addEventListener('click', this.uploadByTransport.bind(this), false);\n    }\n\n    if (this.uploadLinkField) {\n      this.uploadLinkField.addEventListener('keydown', this.uploadByUrl.bind(this), false);\n    }\n  }\n\n  /**\n   * Init codex.transport to select image from user's computer\n   */\n  uploadByTransport() {\n    capella.transport.init({\n      url: this.uploadUrl,\n      multiple: false,\n      accept: 'image/png, image/gif, image/jpg, image/jpeg, image/bmp',\n      data: {},\n      before: this.before,\n      progress: this.progress,\n      success: this.success,\n      error: this.error,\n      after: this.after\n    });\n  }\n\n  /**\n   * Handle upload by image url\n   *\n   * @param e\n   */\n  uploadByUrl(e) {\n    /** Check for Enter key */\n    if (e.keyCode !== 13) {\n      return;\n    }\n    e.preventDefault();\n\n    if (this.uploadLinkField) {\n      this.upload({'link': this.uploadLinkField.value});\n    }\n  }\n\n  /**\n   * Handler to upload blob data using FormData\n   *\n   * @param {Blob|File} file — file to send\n   */\n  uploadBlob(file) {\n    let formData = new FormData();\n\n    this.currentFileName = file.name;\n\n    formData.append('file', file, file.name);\n\n    this.upload(formData);\n  }\n\n  /**\n   * Send AJAX request to uploadUrl with passed data\n   *\n   * @param {*} data — data to send\n   */\n  upload(data) {\n    capella.ajax.call({\n      type: 'POST',\n      url: this.uploadUrl,\n      data: data,\n      before: this.before.bind(this),\n      progress: this.progress,\n      success: this.success,\n      error: this.error,\n      after: this.after\n    });\n  }\n\n  /**\n   * Method to call before upload starts\n   */\n  before(data) {\n    let filename;\n\n    if (data instanceof FormData) {\n      filename = this.currentFileName;\n    }\n    if (data && data.link) {\n      filename = data.link;\n    }\n    if (data[0] instanceof File) {\n      filename = data[0].name;\n    }\n\n    capella.uploadScreen.show(filename);\n  }\n\n  /**\n   *  Handle upload progress\n   *\n   * @param percentage — upload percentage\n   */\n  progress(percentage) {\n    percentage = 0.95 * percentage;\n    capella.uploadScreen.progress(percentage);\n  }\n\n  /**\n   * Successful upload handler\n   *\n   * @param {Object} response — response object\n   * @param {Boolean} response.success — upload status\n   * @param {String} response.url — if upload was successful, contains uploaded image url\n   * @param {String} response.id — if upload was succesful, contains uploaded image id\n   * @param {String} response.message — if upload failed, contains reason\n   */\n  success(response) {\n    console.log(response);\n\n    if (response.success) {\n      capella.uploadScreen.progress(100);\n\n      /** Redirect to uploaded image */\n      window.location.href = '/image/' + response.id;\n    } else {\n      capella.uploadScreen.hide();\n    }\n  }\n\n  /**\n   * Upload error handler\n   *\n   * @param {Error} error — raised error\n   */\n  error(response) {\n    capella.notifier.show({\n      message: '<i class=\\'cdx-notify__warning-sign\\'></i>' + response.message,\n      time: 7000\n    });\n    capella.uploadScreen.hide();\n  }\n\n  /**\n   * Method to call after upload\n   */\n  after() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/uploader.js","/**\n * Require CSS build\n */\nrequire('./css/main.css');\n\nmodule.exports = require('./js/main.js');\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/entry.js","'use strict';\n\n\nconst capella = {};\n\nlet Uploader = require('./uploader').default;\nlet Clipboard = require('./clipboard').default;\nlet DNDFileUploader = require('./dragndrop').default;\nlet UploadScreen = require('./uploadScreen').default;\n\n/**\n * Require modules\n */\ncapella.ajax = require('codex.ajax');\ncapella.transport = require('codex.transport');\ncapella.uploader = require('./uploader');\ncapella.copyable = require('./copyable');\ncapella.progressiveLoading = require('./progressiveLoading');\ncapella.notificationToggler = require('./notificationToggler');\ncapella.checkForSafari = require('./checkForSafari');\ncapella.notifier = require('exports-loader?notifier!codex-notifier');\n\ncapella.uploadScreen = new UploadScreen();\ncapella.uploader = new Uploader();\ncapella.clipboard = new Clipboard();\ncapella.dnd = new DNDFileUploader('.capella');\n\ncapella.init = function () {\n  capella.progressiveLoading.init();\n  capella.copyable.init();\n  capella.checkForSafari.init();\n};\n\nmodule.exports = capella;\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/main.js","/**\n * Paste from clipboard module\n */\nexport default class Clipboard {\n  /**\n   * Initialization of Clipboard module\n   */\n  constructor() {\n    document.body.addEventListener('paste', this.pasteFromClipboard);\n  }\n\n  /**\n   * Pasted image from clipboard\n   */\n  pasteFromClipboard(event) {\n    let clipboard = (event.clipboardData  || event.originalEvent.clipboardData || window.clipboardData);\n\n    /**\n     * items - for images\n     * data - for links\n     */\n    let items = clipboard.items;\n    let data = clipboard.getData('Text');\n    let blob = null;\n\n    event.stopPropagation();\n    event.preventDefault();\n\n    /**\n     * Checking if clipboard has a link\n     */\n    if (data) {\n      /**\n       * Parsing on valid URL\n       */\n      let regex = /^((http[s]?):\\/)?\\/?([^:\\/\\s]+)((\\/\\w+)*\\/)([\\w\\-\\.]+[^#?\\s]+)(.*)?(#[\\w\\-]+)?$/;\n\n      if (data.match(regex)) {\n        capella.uploader.upload({'link': data});\n      } else {\n        document.getElementById('uploadLinkField').value = data;\n      }\n    }\n\n    if (items) {\n      /**\n       * Checking all clipboard's files and choosing last image file\n       */\n      for (let i = items.length - 1; i >= 0; --i) {\n        if (items[i].type.indexOf('image') === 0) {\n          blob = items[i].getAsFile();\n          break;\n        }\n      }\n    }\n\n    if (blob !== null) {\n      /**\n       * FilerReader is used for asynchronous image reading from blob: function at onload\n       */\n      let reader = new FileReader();\n\n      reader.onload = function () {\n        capella.uploader.uploadBlob(blob);\n      };\n      reader.readAsDataURL(blob);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/clipboard.js","/**\n * Class for working with drag and drop files to browser\n *\n * @class DNDFileUploader\n *\n * @property {HTMLElement} wrapper — page wrapper element\n *\n */\nexport default class DNDFileUploader {\n  /**\n   * Bind drag and drop events\n   *\n   * @param {String} wrapper - page wrapper selector\n   */\n  constructor(wrapper) {\n    this.wrapper = document.querySelector(wrapper);\n\n    this.wrapper.addEventListener('dragenter', this.dragover.bind(this));\n    this.wrapper.addEventListener('dragover', this.dragover.bind(this));\n    this.wrapper.addEventListener('dragleave', this.drageleave.bind(this));\n    this.wrapper.addEventListener('drop', this.drop.bind(this));\n  }\n\n  /**\n   *\n   * File dragover handler\n   *\n   * @param {Event} event — dragover event\n   */\n  dragover(event) {\n    event.preventDefault();\n\n    this.wrapper.classList.add('capella--dark');\n  }\n\n  /**\n   *\n   * File dragleave handler\n   *\n   * @param {Event} event — dragleave event\n   */\n  drageleave(event) {\n    event.preventDefault();\n\n    this.wrapper.classList.remove('capella--dark');\n  }\n\n  /**\n   * File drop handler\n   *\n   * @param {Event} event — drop event\n   */\n  drop(event) {\n    this.wrapper.classList.remove('capella--dark');\n\n    let file = event.dataTransfer.files[0];\n\n    capella.uploader.uploadBlob(file);\n\n    event.preventDefault();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/dragndrop.js","'use strict';\n\n/**\n * Class to control upload screen appearance\n *\n * @property {HTMLElement} mainContainer — page wrapper\n * @property {HTMLElement} progressBar — progress bar slider element\n * @property {String} loadingClass — upload screen class\n *\n */\nexport default class UploadScreen {\n  /**\n   * @constructor\n   * Get needed elements from page\n   */\n  constructor() {\n    this.mainContainer = document.querySelector('.capella');\n    this.progressBar = document.querySelector('.js-capella__uploading-progress');\n    this.loadingClass = 'capella--loading';\n  }\n\n  /**\n   * Show loading screen by adding loadingClass to page wrapper\n   *\n   * @param {String} filename — file which is uploading now\n   */\n  show(filename) {\n    let filenameHolder = this.mainContainer.querySelector('.capella__uploading-filename');\n\n    filenameHolder.textContent = filename;\n    this.mainContainer.classList.add(this.loadingClass);\n  }\n\n  /**\n   * Hide loading screen by removing loadingClass from page wrapper\n   */\n  hide() {\n    this.mainContainer.classList.remove(this.loadingClass);\n  }\n\n  /**\n   * Method to control loading progress bar\n   *\n   * @param {Number} percents — uploading percentage\n   */\n  progress(percents) {\n    this.progressBar.style.width = percents + '%';\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/uploadScreen.js","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.ajax=e():t.ajax=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";t.exports=function(){var t=function(t){return t instanceof FormData};return{call:function(e){if(e&&e.url){var n=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject(\"Microsoft.XMLHTTP\"),r=e.progress||null,a=e.success||function(){},o=e.error||function(){},u=e.before||null,i=e.after?e.after.bind(null,e.data):null;if(e.async=!0,e.type=e.type||\"GET\",e.data=e.data||\"\",e[\"content-type\"]=e[\"content-type\"]||\"application/json; charset=utf-8\",\"GET\"===e.type&&e.data&&(e.url=/\\?/.test(e.url)?e.url+\"&\"+e.data:e.url+\"?\"+e.data),e.withCredentials&&(n.withCredentials=!0),u&&\"function\"==typeof u){if(!1===u(e.data))return}if(n.open(e.type,e.url,e.async),!t(e.data)){var c=new FormData;for(var f in e.data)c.append(f,e.data[f]);e.data=c}r&&\"function\"==typeof r&&n.upload.addEventListener(\"progress\",function(t){var e=parseInt(t.loaded/t.total*100);r(e)},!1),n.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),n.onreadystatechange=function(){if(4===n.readyState){var t=n.responseText;try{t=JSON.parse(t)}catch(t){}200===n.status?a(t):o(t),i&&\"function\"==typeof i&&i()}},n.send(e.data)}}}}()}])});\n//# sourceMappingURL=bundle.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/codex.ajax/lib/bundle.js\n// module id = 7\n// module chunks = 0","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.transport=e():t.transport=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=n(1);t.exports=function(t){var e=null;t.input=null;var n=function(){t.input.click()},u=function(){e.before(t.input.files)},a=function(){var n=e.url,a=e.data,i=u,c=e.progress,f=e.success,s=e.error,p=e.after,l=new FormData,d=t.input.files;if(d.length>1)for(var y=0;y<d.length;y++)l.append(\"files[]\",d[y],d[y].name);else l.append(\"file\",d[0],d[0].name);if(null!==a&&\"object\"===(void 0===a?\"undefined\":r(a)))for(var b in a)l.append(b,a[b]);o.call({type:\"POST\",data:l,url:n,before:i,progress:c,success:f,error:s,after:p})};return t.init=function(r){if(!r.url)return void console.log(\"Can't send request because `url` is missed\");e=r;var o=document.createElement(\"INPUT\");o.type=\"file\",e&&e.multiple&&o.setAttribute(\"multiple\",\"multiple\"),e&&e.accept&&o.setAttribute(\"accept\",e.accept),o.addEventListener(\"change\",a,!1),t.input=o,n()},t}({})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";t.exports=function(){var t=function(t){return t instanceof FormData};return{call:function(e){if(e&&e.url){var n=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject(\"Microsoft.XMLHTTP\"),r=e.progress||null,o=e.success||function(){},u=e.error||function(){},a=e.before||null,i=e.after?e.after.bind(null,e.data):null;if(e.async=!0,e.type=e.type||\"GET\",e.data=e.data||\"\",e[\"content-type\"]=e[\"content-type\"]||\"application/json; charset=utf-8\",\"GET\"===e.type&&e.data&&(e.url=/\\?/.test(e.url)?e.url+\"&\"+e.data:e.url+\"?\"+e.data),e.withCredentials&&(n.withCredentials=!0),a&&\"function\"==typeof a&&!1===a(e.data))return;if(n.open(e.type,e.url,e.async),!t(e.data)){var c=new FormData;for(var f in e.data)c.append(f,e.data[f]);e.data=c}r&&\"function\"==typeof r&&n.upload.addEventListener(\"progress\",function(t){var e=parseInt(t.loaded/t.total*100);r(e)},!1),n.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),n.onreadystatechange=function(){if(4===n.readyState){var t=n.responseText;try{t=JSON.parse(t)}catch(t){}200===n.status?o(t):u(t),i&&\"function\"==typeof i&&i()}},n.send(e.data)}}}}()}])})}])});\n//# sourceMappingURL=bundle.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/codex.transport/lib/bundle.js\n// module id = 8\n// module chunks = 0","/**\n  * Copyable module allows you to add text to copy buffer by click\n  * Just add 'js-copyable' name to element and call init method\n  *\n  * @usage\n  * <span name='js-copyable'>Click to copy</span>\n  *\n  * You can pass callback function to init method. Callback will fire when something has copied\n  *\n  * @type {{init}}\n  */\nmodule.exports = function () {\n  const NAMES = {\n    copyable: 'js-copyable',\n    authorized: 'js-copyable-authorize'\n  };\n\n  /**\n   * Take element by name and pass it to prepareElement function\n   *\n   * @param {Function} copiedCallback - fires when something has copied\n   */\n  let init = function (copiedCallback) {\n    let elems = document.getElementsByName(NAMES.copyable);\n\n    if (!elems) {\n      console.log('There are no copyable elements');\n      return;\n    }\n\n    for (let i = 0; i < elems.length; i++) {\n      prepareElement(elems[i], copiedCallback);\n    }\n\n    let authorizedElems = document.getElementsByName(NAMES.authorized);\n\n    for (let i = 0; i < authorizedElems.length; i++) {\n      authorize(authorizedElems[i]);\n    }\n\n    console.log('Copyable module initialized');\n\n    this.clipboardButton = document.querySelector('.js-result__copy');\n\n    if (this.clipboardButton) {\n      this.clipboardButton.addEventListener('click', capella.notificationToggler.toggleCopiedIcon, true);\n    }\n  };\n\n  /**\n   * Add click and copied listeners to copyable element\n   *\n   * @param element\n   * @param copiedCallback\n   */\n  let prepareElement = function (element, copiedCallback) {\n    element.addEventListener('click', elementClicked);\n    element.addEventListener('copied', copiedCallback);\n  };\n\n  /**\n   * Add click listener for authorized element\n   *\n   * @param element\n   */\n  let authorize = function (element) {\n    element.addEventListener('click', authorizedCopy);\n  };\n\n  /**\n   * Click handler for authorized elements\n   */\n  let authorizedCopy = function () {\n    let authorizedElem = this;\n    let copyable = authorizedElem.querySelector('[name='+NAMES.copyable+']');\n\n    copyable.click();\n  };\n\n  /**\n   * Click handler\n   * Create new range, select copyable element and add range to selection. Then exec 'copy' command\n   */\n  let elementClicked = function (event) {\n    let selection = window.getSelection(),\n        range     = document.createRange();\n\n    range.selectNodeContents(this);\n    selection.removeAllRanges();\n    selection.addRange(range);\n\n    document.execCommand('copy');\n    selection.removeAllRanges();\n\n    /**\n     * We create new CustomEvent and dispatch it on copyable element\n     * Consist copied text in detail property\n     */\n    let CopiedEvent = new CustomEvent('copied', {\n      bubbles: false,\n      cancelable: false,\n      detail: range.toString()\n    });\n\n    this.dispatchEvent(CopiedEvent);\n    event.stopPropagation();\n  };\n\n  return {\n    init: init\n  };\n}();\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/copyable.js","/**\n  * progressiveLoading module allows shows blurred background image,\n  * While high-quality image is loaded\n  *\n  * @usage\n  * <div class=\"js-full-image\" data-src=\"/path/to/your/high-quality-image.jpg\">\n  *   <div class=\"js-blur-image\"></div>\n  * </div>\n  *\n  * @type {{init}}\n  */\nmodule.exports = function () {\n  let init = function () {\n    let blurImage = document.querySelector('.js-blur-image');\n\n    document.addEventListener('DOMContentLoaded', function () {\n      if (!blurImage) return !1;\n\n      let fullImage = document.querySelector('.js-full-image'),\n          fullImageUrl = fullImage.getAttribute('data-src'),\n          img = new Image();\n\n      img.src = fullImageUrl;\n      blurImage.style.filter = 'blur(5px)';\n      blurImage.style.transition = 'filter 1.5s';\n\n      img.onload = function () {\n        fullImage.classList.add('js-image-loaded'),\n\n        fullImage.style.backgroundImage = 'url(' + fullImageUrl + ')';\n\n        setTimeout(function () {\n          blurImage.style.background = 'transparent';\n          blurImage.style.filter = 'none';\n        }, 500);\n      };\n    });\n  };\n\n  return {\n    init: init\n  };\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/progressiveLoading.js","'use strict';\n\nmodule.exports = function () {\n  const CSS = {\n    /* Class of 'Copied' notification element */\n    notificationClass: '.js-result__is-copied',\n\n    /* Class used to hide notification after showTimeout */\n    notificationHideClass: 'js-hidden'\n  };\n\n  /* 'Copied' notification element */\n  const notificationElement = document.querySelector(CSS.notificationClass);\n\n  /* Timeout after which notificationElement will be hidden */\n  const showTimeout = 2000;\n\n  /* Timer to hide notification */\n  let notificationIsVisibleTimer;\n\n  /**\n   * Show and hide after showTimeout seconds copy-notifications\n   */\n  let toggleCopiedIcon = function (event) {\n    /* Don't open link in new window unless one of these keys is pressed */\n    if (event.ctrlKey || event.metaKey || event.which === 2) {\n      return false;\n    }\n\n    event.preventDefault();\n\n    /* Clear timer if it was set previously */\n    if (notificationIsVisibleTimer) {\n      clearTimeout(notificationIsVisibleTimer);\n    }\n\n    /* First reveal zero-opacity notification elem, then after timeout hide it again */\n    notificationElement.classList.remove(CSS.notificationHideClass);\n    notificationIsVisibleTimer = setTimeout(function () {\n      notificationElement.classList.add(CSS.notificationHideClass);\n    }, showTimeout);\n  };\n\n  return {\n    toggleCopiedIcon : toggleCopiedIcon\n  };\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/notificationToggler.js","'use strict';\n\n\n/**\n * TEMP fix. Detect Safari and add class to body\n */\nmodule.exports = function () {\n  let init = function () {\n    let userAgent = window.navigator.userAgent;\n\n    if (userAgent.indexOf('Safari') >= 0 && userAgent.indexOf('Chrome') < 0) {\n      document.body.classList.add('safari');\n    }\n  };\n\n  return {\n    init\n  };\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/app/js/checkForSafari.js","var notifier=function(e){function t(r){if(n[r])return n[r].exports;var c=n[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,t),c.l=!0,c.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=2)}([function(e,t,n){\"use strict\";e.exports=function(){var e={wrapper:\"cdx-notifies\",notification:\"cdx-notify\",crossBtn:\"cdx-notify__cross\",okBtn:\"cdx-notify__button--confirm\",cancelBtn:\"cdx-notify__button--cancel\",input:\"cdx-notify__input\",btn:\"cdx-notify__button\",btnsWrapper:\"cdx-notify__btns-wrapper\"},t=function(t){var n=document.createElement(\"DIV\"),r=document.createElement(\"DIV\"),c=t.message,i=t.style;return n.classList.add(e.notification),i&&n.classList.add(e.notification+\"--\"+i),n.innerHTML=c,r.classList.add(e.crossBtn),r.addEventListener(\"click\",n.remove.bind(n)),n.appendChild(r),n};return{alert:t,confirm:function(n){var r=t(n),c=document.createElement(\"div\"),i=document.createElement(\"button\"),a=document.createElement(\"button\"),o=r.querySelector(e.crossBtn),d=n.cancelHandler,s=n.okHandler;return c.classList.add(e.btnsWrapper),i.innerHTML=n.okText||\"Confirm\",a.innerHTML=n.cancelText||\"Cancel\",i.classList.add(e.btn),a.classList.add(e.btn),i.classList.add(e.okBtn),a.classList.add(e.cancelBtn),d&&\"function\"==typeof d&&(a.addEventListener(\"click\",d),o.addEventListener(\"click\",d)),s&&\"function\"==typeof s&&i.addEventListener(\"click\",s),i.addEventListener(\"click\",r.remove.bind(r)),a.addEventListener(\"click\",r.remove.bind(r)),c.appendChild(i),c.appendChild(a),r.appendChild(c),r},prompt:function(n){var r=t(n),c=document.createElement(\"div\"),i=document.createElement(\"button\"),a=document.createElement(\"input\"),o=r.querySelector(e.crossBtn),d=n.cancelHandler,s=n.okHandler;return c.classList.add(e.btnsWrapper),i.innerHTML=n.okText||\"Ok\",i.classList.add(e.btn),i.classList.add(e.okBtn),a.classList.add(e.input),n.placeholder&&a.setAttribute(\"placeholder\",n.placeholder),n.default&&(a.value=n.default),n.inputType&&(a.type=n.inputType),d&&\"function\"==typeof d&&o.addEventListener(\"click\",d),s&&\"function\"==typeof s&&i.addEventListener(\"click\",function(){s(a.value)}),i.addEventListener(\"click\",r.remove.bind(r)),c.appendChild(a),c.appendChild(i),r.appendChild(c),r},wrapper:function(){var t=document.createElement(\"DIV\");return t.classList.add(e.wrapper),t}}}()},function(e,t){},function(e,t,n){\"use strict\";/*!\n * Codex JavaScript Notification module\n * https://github.com/codex-team/js-notifier\n *\n * Codex Team - https://ifmo.su\n *\n * MIT License | (c) Codex 2017\n */\ne.exports=function(){function e(){if(i)return!0;i=r.wrapper(),document.body.appendChild(i)}function t(t){if(t.message){e();var n=null,a=t.time||8e3;switch(t.type){case\"confirm\":n=r.confirm(t);break;case\"prompt\":n=r.prompt(t);break;default:n=r.alert(t),window.setTimeout(function(){n.remove()},a)}i.appendChild(n),n.classList.add(c)}}n(1);var r=n(0),c=\"cdx-notify--bounce-in\",i=null;return{show:t}}()}]);\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = notifier;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/exports-loader?notifier!./node_modules/codex-notifier/notifier.js\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}