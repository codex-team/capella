var capella =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./public/app/entry.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/codex-notifier/dist/bundle.js":
/*!****************************************************!*\
  !*** ./node_modules/codex-notifier/dist/bundle.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/\",n(n.s=0)}([function(t,e,n){\"use strict\";n(1),\n/*!\n * Codex JavaScript Notification module\n * https://github.com/codex-team/js-notifier\n */\nt.exports=function(){var t=n(6),e=\"cdx-notify--bounce-in\",o=null;return{show:function(n){if(n.message){!function(){if(o)return!0;o=t.getWrapper(),document.body.appendChild(o)}();var r=null,i=n.time||8e3;switch(n.type){case\"confirm\":r=t.confirm(n);break;case\"prompt\":r=t.prompt(n);break;default:r=t.alert(n),window.setTimeout(function(){r.remove()},i)}o.appendChild(r),r.classList.add(e)}}}}()},function(t,e,n){var o=n(2);\"string\"==typeof o&&(o=[[t.i,o,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\\'\\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen,Ubuntu,Cantarell,\"Fira Sans\",\"Droid Sans\",\"Helvetica Neue\",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\\'\\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',\"\"])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||\"\",o=t[3];if(!o)return n;if(e&&\"function\"==typeof btoa){var r=(a=o,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\"),i=o.sources.map(function(t){return\"/*# sourceURL=\"+o.sourceRoot+t+\" */\"});return[n].concat(i).concat([r]).join(\"\\n\")}var a;return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];\"number\"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];\"number\"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),c=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),s=null,f=0,d=[],u=n(5);function l(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(h(o.parts[a],e))}else{var c=[];for(a=0;a<o.parts.length;a++)c.push(h(o.parts[a],e));i[o.id]={id:o.id,refs:1,parts:c}}}}function p(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(c):n.push(o[a]={id:a,parts:[c]})}return n}function b(t,e){var n=c(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var o=d[d.length-1];if(\"top\"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var r=c(t.insertInto+\" \"+t.insertAt.before);n.insertBefore(e,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function x(t){var e=document.createElement(\"style\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),y(e,t.attrs),b(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function h(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=f++;n=s||(s=x(e)),o=_.bind(null,n,a,!1),r=_.bind(null,n,a,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",y(e,t.attrs),b(t,e),e}(e),o=function(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+\" */\");var a=new Blob([o],{type:\"text/css\"}),c=t.href;t.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}.bind(null,n,e),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=x(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute(\"media\",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=p(t,e);return l(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var a=n[r];(c=i[a.id]).refs--,o.push(c)}t&&l(p(t,e),e);for(r=0;r<o.length;r++){var c;if(0===(c=o[r]).refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete i[c.id]}}}};var v,g=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join(\"\\n\")});function _(t,e,n,o){var r=n?\"\":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,o=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var r,i=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i)?t:(r=0===i.indexOf(\"//\")?i:0===i.indexOf(\"/\")?n+i:o+i.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(r)+\")\")})}},function(t,e,n){\"use strict\";var o,r,i,a,c,s,f,d,u;t.exports=(o=\"cdx-notifies\",r=\"cdx-notify\",i=\"cdx-notify__cross\",a=\"cdx-notify__button--confirm\",c=\"cdx-notify__button--cancel\",s=\"cdx-notify__input\",f=\"cdx-notify__button\",d=\"cdx-notify__btns-wrapper\",{alert:u=function(t){var e=document.createElement(\"DIV\"),n=document.createElement(\"DIV\"),o=t.message,a=t.style;return e.classList.add(r),a&&e.classList.add(r+\"--\"+a),e.innerHTML=o,n.classList.add(i),n.addEventListener(\"click\",e.remove.bind(e)),e.appendChild(n),e},confirm:function(t){var e=u(t),n=document.createElement(\"div\"),o=document.createElement(\"button\"),r=document.createElement(\"button\"),s=e.querySelector(\".\"+i),l=t.cancelHandler,p=t.okHandler;return n.classList.add(d),o.innerHTML=t.okText||\"Confirm\",r.innerHTML=t.cancelText||\"Cancel\",o.classList.add(f),r.classList.add(f),o.classList.add(a),r.classList.add(c),l&&\"function\"==typeof l&&(r.addEventListener(\"click\",l),s.addEventListener(\"click\",l)),p&&\"function\"==typeof p&&o.addEventListener(\"click\",p),o.addEventListener(\"click\",e.remove.bind(e)),r.addEventListener(\"click\",e.remove.bind(e)),n.appendChild(o),n.appendChild(r),e.appendChild(n),e},prompt:function(t){var e=u(t),n=document.createElement(\"div\"),o=document.createElement(\"button\"),r=document.createElement(\"input\"),c=e.querySelector(\".\"+i),l=t.cancelHandler,p=t.okHandler;return n.classList.add(d),o.innerHTML=t.okText||\"Ok\",o.classList.add(f),o.classList.add(a),r.classList.add(s),t.placeholder&&r.setAttribute(\"placeholder\",t.placeholder),t.default&&(r.value=t.default),t.inputType&&(r.type=t.inputType),l&&\"function\"==typeof l&&c.addEventListener(\"click\",l),p&&\"function\"==typeof p&&o.addEventListener(\"click\",function(){p(r.value)}),o.addEventListener(\"click\",e.remove.bind(e)),n.appendChild(r),n.appendChild(o),e.appendChild(n),e},getWrapper:function(){var t=document.createElement(\"DIV\");return t.classList.add(o),t}})}])});\n\n//# sourceURL=webpack://%5Bname%5D/./node_modules/codex-notifier/dist/bundle.js?");

/***/ }),

/***/ "./node_modules/codex.ajax/lib/bundle.js":
/*!***********************************************!*\
  !*** ./node_modules/codex.ajax/lib/bundle.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(t,e){ true?module.exports=e():undefined}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";t.exports=function(){var t=function(t){return t instanceof FormData};return{call:function(e){if(e&&e.url){var n=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject(\"Microsoft.XMLHTTP\"),r=e.progress||null,a=e.success||function(){},o=e.error||function(){},u=e.before||null,i=e.after?e.after.bind(null,e.data):null;if(e.async=!0,e.type=e.type||\"GET\",e.data=e.data||\"\",e[\"content-type\"]=e[\"content-type\"]||\"application/json; charset=utf-8\",\"GET\"===e.type&&e.data&&(e.url=/\\?/.test(e.url)?e.url+\"&\"+e.data:e.url+\"?\"+e.data),e.withCredentials&&(n.withCredentials=!0),u&&\"function\"==typeof u){if(!1===u(e.data))return}if(n.open(e.type,e.url,e.async),!t(e.data)){var c=new FormData;for(var f in e.data)c.append(f,e.data[f]);e.data=c}r&&\"function\"==typeof r&&n.upload.addEventListener(\"progress\",function(t){var e=parseInt(t.loaded/t.total*100);r(e)},!1),n.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),n.onreadystatechange=function(){if(4===n.readyState){var t=n.responseText;try{t=JSON.parse(t)}catch(t){}200===n.status?a(t):o(t),i&&\"function\"==typeof i&&i()}},n.send(e.data)}}}}()}])});\n//# sourceMappingURL=bundle.js.map\n\n//# sourceURL=webpack://%5Bname%5D/./node_modules/codex.ajax/lib/bundle.js?");

/***/ }),

/***/ "./node_modules/codex.transport/lib/bundle.js":
/*!****************************************************!*\
  !*** ./node_modules/codex.transport/lib/bundle.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(t,e){ true?module.exports=e():undefined}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=n(1);t.exports=function(t){var e=null;t.input=null;var n=function(){t.input.click()},u=function(){e.before(t.input.files)},a=function(){var n=e.url,a=e.data,i=u,c=e.progress,f=e.success,s=e.error,p=e.after,l=new FormData,d=t.input.files;if(d.length>1)for(var y=0;y<d.length;y++)l.append(\"files[]\",d[y],d[y].name);else l.append(\"file\",d[0],d[0].name);if(null!==a&&\"object\"===(void 0===a?\"undefined\":r(a)))for(var b in a)l.append(b,a[b]);o.call({type:\"POST\",data:l,url:n,before:i,progress:c,success:f,error:s,after:p})};return t.init=function(r){if(!r.url)return void console.log(\"Can't send request because `url` is missed\");e=r;var o=document.createElement(\"INPUT\");o.type=\"file\",e&&e.multiple&&o.setAttribute(\"multiple\",\"multiple\"),e&&e.accept&&o.setAttribute(\"accept\",e.accept),o.addEventListener(\"change\",a,!1),t.input=o,n()},t}({})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";t.exports=function(){var t=function(t){return t instanceof FormData};return{call:function(e){if(e&&e.url){var n=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject(\"Microsoft.XMLHTTP\"),r=e.progress||null,o=e.success||function(){},u=e.error||function(){},a=e.before||null,i=e.after?e.after.bind(null,e.data):null;if(e.async=!0,e.type=e.type||\"GET\",e.data=e.data||\"\",e[\"content-type\"]=e[\"content-type\"]||\"application/json; charset=utf-8\",\"GET\"===e.type&&e.data&&(e.url=/\\?/.test(e.url)?e.url+\"&\"+e.data:e.url+\"?\"+e.data),e.withCredentials&&(n.withCredentials=!0),a&&\"function\"==typeof a&&!1===a(e.data))return;if(n.open(e.type,e.url,e.async),!t(e.data)){var c=new FormData;for(var f in e.data)c.append(f,e.data[f]);e.data=c}r&&\"function\"==typeof r&&n.upload.addEventListener(\"progress\",function(t){var e=parseInt(t.loaded/t.total*100);r(e)},!1),n.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),n.onreadystatechange=function(){if(4===n.readyState){var t=n.responseText;try{t=JSON.parse(t)}catch(t){}200===n.status?o(t):u(t),i&&\"function\"==typeof i&&i()}},n.send(e.data)}}}}()}])})}])});\n//# sourceMappingURL=bundle.js.map\n\n//# sourceURL=webpack://%5Bname%5D/./node_modules/codex.transport/lib/bundle.js?");

/***/ }),

/***/ "./public/app/css/main.css":
/*!*********************************!*\
  !*** ./public/app/css/main.css ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin\n\n//# sourceURL=webpack://%5Bname%5D/./public/app/css/main.css?");

/***/ }),

/***/ "./public/app/entry.js":
/*!*****************************!*\
  !*** ./public/app/entry.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Require CSS build\n */\n__webpack_require__(/*! ./css/main.css */ \"./public/app/css/main.css\");\n\nmodule.exports = __webpack_require__(/*! ./js/main.js */ \"./public/app/js/main.js\");\n\n//# sourceURL=webpack://%5Bname%5D/./public/app/entry.js?");

/***/ }),

/***/ "./public/app/js/clipboard.js":
/*!************************************!*\
  !*** ./public/app/js/clipboard.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Paste from clipboard module\n *\n * Thanks to http://joelb.me/blog/2011/code-snippet-accessing-clipboard-images-with-javascript/\n */\nvar Clipboard = function () {\n  /**\n   * Initialization of Clipboard module\n   */\n  function Clipboard() {\n    var _this = this;\n\n    _classCallCheck(this, Clipboard);\n\n    /**\n     * Variable for contenteditable element which will catch pasted\n     * image if browser can't works with images in clipboardData\n     */\n    this.pasteCatcher = null;\n\n    /**\n     * We start by checking if the browser supports the\n     * Clipboard object. If not, we need to create a\n     * contenteditable element that catches all pasted data\n     */\n    if (!window.Clipboard) {\n      this.pasteCatcher = document.createElement('DIV');\n\n      /** Safari allows images to be pasted into contenteditable elements */\n      this.pasteCatcher.setAttribute('contenteditable', true);\n\n      /** We can hide the element and append it to the body */\n      this.pasteCatcher.style.opacity = 0;\n      this.pasteCatcher.style.position = 'absolute';\n      document.body.appendChild(this.pasteCatcher);\n\n      /**\n       * Add global paste listener\n       */\n      document.body.addEventListener('paste', function (event) {\n        _this.pasteCatcher.focus();\n        _this.pasteHandler(event);\n      });\n    } else {\n      /**\n       * Add the paste event listener to the page body\n       */\n      document.body.addEventListener('paste', function (event) {\n        _this.pasteHandler(event);\n      });\n    }\n  }\n\n  /**\n   * Paste handler\n   *\n   * @param event\n   */\n\n\n  _createClass(Clipboard, [{\n    key: 'pasteHandler',\n    value: function pasteHandler(event) {\n      var clipboard = event.clipboardData || event.originalEvent.clipboardData || window.clipboardData;\n\n      /**\n       * Checking if clipboard has a link\n       */\n      var data = clipboard.getData('Text');\n\n      if (data) {\n        /**\n         * Prevent pasting text data\n         */\n        event.preventDefault();\n\n        /**\n         * Parsing on valid URL\n         */\n        var regex = /^((http[s]?):\\/)?\\/?([^:\\/\\s]+)((\\/\\w+)*\\/)([\\w\\-\\.]+[^#?\\s]+)(.*)?(#[\\w\\-]+)?$/;\n\n        if (data.match(regex)) {\n          capella.uploader.upload({ 'link': data });\n          return;\n        } else {\n          document.getElementById('uploadLinkField').value = data;\n        }\n      }\n\n      /**\n       * Try to catch pasted image\n       */\n      this.pasteImageHandler(event);\n    }\n\n    /**\n     * Trying to get Image from clipboardData or pasteCatcher element\n     */\n\n  }, {\n    key: 'pasteImageHandler',\n    value: function pasteImageHandler(event) {\n      var _this2 = this;\n\n      /**\n       * We need to check if event.clipboardData is supported (Chrome)\n       */\n      if (window.Clipboard) {\n        /**\n         * Prevent pasting image data\n         */\n        event.preventDefault();\n\n        if (!event.clipboardData) {\n          return;\n        }\n\n        /**\n         * Get items from the clipboard\n         */\n        var items = event.clipboardData.items;\n\n        if (items) {\n          /**\n           * Loop through all items, looking for any kind of image\n           */\n          for (var i = 0; i < items.length; i++) {\n            if (items[i].type.indexOf('image') !== -1) {\n              /**\n               * We need to represent the image as a file\n               */\n              var blob = items[i].getAsFile();\n\n              /**\n               * Upload image blob to server\n               */\n              capella.uploader.uploadBlob(blob);\n\n              break;\n            }\n          }\n        }\n      } else {\n        /**\n         * If we can't handle clipboard data directly (Safari),\n         * we need to read what was pasted from the contenteditable element\n         *\n         * This is a cheap trick to make sure we read the data\n         * AFTER it has been inserted.\n         */\n        setTimeout(function () {\n          return _this2.checkPasteCatcher();\n        }, 50);\n      }\n    }\n\n    /**\n     * Parse the pasteCatcher element for any IMG child\n     */\n\n  }, {\n    key: 'checkPasteCatcher',\n    value: function checkPasteCatcher() {\n      /** Store the pasted content in a variable */\n      var child = this.pasteCatcher.querySelector('IMG');\n\n      /**\n       * Clear the inner html to make sure we're always\n       * getting the latest inserted content\n       */\n      this.pasteCatcher.innerHTML = '';\n\n      if (child) {\n        /**\n         * If the user pastes an image, the src attribute\n         * will represent the image as a base64 encoded string.\n         */\n        if (child.tagName === 'IMG') {\n          this.createImage(child.src).then(function (blob) {\n            return capella.uploader.uploadBlob(blob);\n          }).catch(console.log);\n        }\n      }\n    }\n\n    /**\n     * Creates a new blob image from a given blob source\n     *\n     * @param {string} source - uri to blob image \"blob:http://...\"\n     *\n     * @returns {Promise<Blob>}\n     */\n\n  }, {\n    key: 'createImage',\n    value: function createImage(source) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        var pastedImage = new Image();\n\n        pastedImage.onload = function () {\n          /** Try to get blob image by it's source url */\n          _this3.loadXHR(source).then(resolve).catch(reject);\n        };\n\n        pastedImage.src = source;\n      });\n    }\n\n    /**\n     * Return blob data by url\n     *\n     * Blob URI/URL was created by JavaScript, refers to data that your\n     * browser currently has in memory (only in current page), and does\n     * not refer to data the exists on the host.\n     * https://www.w3.org/TR/FileAPI/#DefinitionOfScheme\n     *\n     * @param {string} url - uri to blob image \"blob:http://...\"\n     *\n     * @returns {Promise<Blob>}\n     */\n\n  }, {\n    key: 'loadXHR',\n    value: function loadXHR(url) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.responseType = 'blob';\n          xhr.onerror = function () {\n            reject('Network error.');\n          };\n          xhr.onload = function () {\n            if (xhr.status === 200) {\n              resolve(xhr.response);\n            } else {\n              reject('Loading error: ' + xhr.statusText);\n            }\n          };\n          xhr.send();\n        } catch (err) {\n          reject(err.message);\n        }\n      });\n    }\n  }]);\n\n  return Clipboard;\n}();\n\nexports.default = Clipboard;\n\n//# sourceURL=webpack://%5Bname%5D/./public/app/js/clipboard.js?");

/***/ }),

/***/ "./public/app/js/copyable.js":
/*!***********************************!*\
  !*** ./public/app/js/copyable.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n  * Copyable module allows you to add text to copy buffer by click\n  * Just add 'js-copyable' name to element and call init method\n  *\n  * @usage\n  * <span name='js-copyable'>Click to copy</span>\n  *\n  * You can pass callback function to init method. Callback will fire when something has copied\n  *\n  * @type {{init}}\n  */\nmodule.exports = function () {\n  var NAMES = {\n    copyable: 'js-copyable',\n    authorized: 'js-copyable-authorize'\n  };\n\n  /**\n   * Take element by name and pass it to prepareElement function\n   *\n   * @param {Function} copiedCallback - fires when something has copied\n   */\n  var init = function init(copiedCallback) {\n    var elems = document.getElementsByName(NAMES.copyable);\n\n    if (!elems) {\n      console.log('There are no copyable elements');\n      return;\n    }\n\n    for (var i = 0; i < elems.length; i++) {\n      prepareElement(elems[i], copiedCallback);\n    }\n\n    var authorizedElems = document.getElementsByName(NAMES.authorized);\n\n    for (var _i = 0; _i < authorizedElems.length; _i++) {\n      authorize(authorizedElems[_i]);\n    }\n\n    console.log('Copyable module initialized');\n\n    this.clipboardButton = document.querySelector('.js-result__copy');\n\n    if (this.clipboardButton) {\n      this.clipboardButton.addEventListener('click', capella.notificationToggler.toggleCopiedIcon, true);\n    }\n  };\n\n  /**\n   * Add click and copied listeners to copyable element\n   *\n   * @param element\n   * @param copiedCallback\n   */\n  var prepareElement = function prepareElement(element, copiedCallback) {\n    element.addEventListener('click', elementClicked);\n    element.addEventListener('copied', copiedCallback);\n  };\n\n  /**\n   * Add click listener for authorized element\n   *\n   * @param element\n   */\n  var authorize = function authorize(element) {\n    element.addEventListener('click', authorizedCopy);\n  };\n\n  /**\n   * Click handler for authorized elements\n   */\n  var authorizedCopy = function authorizedCopy() {\n    var authorizedElem = this;\n    var copyable = authorizedElem.querySelector('[name=' + NAMES.copyable + ']');\n\n    copyable.click();\n  };\n\n  /**\n   * Click handler\n   * Create new range, select copyable element and add range to selection. Then exec 'copy' command\n   */\n  var elementClicked = function elementClicked(event) {\n    var selection = window.getSelection(),\n        range = document.createRange();\n\n    range.selectNodeContents(this);\n    selection.removeAllRanges();\n    selection.addRange(range);\n\n    document.execCommand('copy');\n    selection.removeAllRanges();\n\n    /**\n     * We create new CustomEvent and dispatch it on copyable element\n     * Consist copied text in detail property\n     */\n    var CopiedEvent = new CustomEvent('copied', {\n      bubbles: false,\n      cancelable: false,\n      detail: range.toString()\n    });\n\n    this.dispatchEvent(CopiedEvent);\n    event.stopPropagation();\n  };\n\n  return {\n    init: init\n  };\n}();\n\n//# sourceURL=webpack://%5Bname%5D/./public/app/js/copyable.js?");

/***/ }),

/***/ "./public/app/js/dragndrop.js":
/*!************************************!*\
  !*** ./public/app/js/dragndrop.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Class for working with drag and drop files to browser\n *\n * @class DNDFileUploader\n *\n * @property {HTMLElement} wrapper — page wrapper element\n *\n */\nvar DNDFileUploader = function () {\n  /**\n   * Bind drag and drop events\n   *\n   * @param {String} wrapper - page wrapper selector\n   */\n  function DNDFileUploader(wrapper) {\n    _classCallCheck(this, DNDFileUploader);\n\n    this.wrapper = document.querySelector(wrapper);\n\n    this.wrapper.addEventListener('dragenter', this.dragover.bind(this));\n    this.wrapper.addEventListener('dragover', this.dragover.bind(this));\n    this.wrapper.addEventListener('dragleave', this.drageleave.bind(this));\n    this.wrapper.addEventListener('drop', this.drop.bind(this));\n  }\n\n  /**\n   *\n   * File dragover handler\n   *\n   * @param {Event} event — dragover event\n   */\n\n\n  _createClass(DNDFileUploader, [{\n    key: 'dragover',\n    value: function dragover(event) {\n      event.preventDefault();\n\n      this.wrapper.classList.add('capella--dark');\n    }\n\n    /**\n     *\n     * File dragleave handler\n     *\n     * @param {Event} event — dragleave event\n     */\n\n  }, {\n    key: 'drageleave',\n    value: function drageleave(event) {\n      event.preventDefault();\n\n      this.wrapper.classList.remove('capella--dark');\n    }\n\n    /**\n     * File drop handler\n     *\n     * @param {Event} event — drop event\n     */\n\n  }, {\n    key: 'drop',\n    value: function drop(event) {\n      this.wrapper.classList.remove('capella--dark');\n\n      var file = event.dataTransfer.files[0];\n\n      capella.uploader.uploadBlob(file);\n\n      event.preventDefault();\n    }\n  }]);\n\n  return DNDFileUploader;\n}();\n\nexports.default = DNDFileUploader;\n\n//# sourceURL=webpack://%5Bname%5D/./public/app/js/dragndrop.js?");

/***/ }),

/***/ "./public/app/js/main.js":
/*!*******************************!*\
  !*** ./public/app/js/main.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar capella = {};\n\nvar Uploader = __webpack_require__(/*! ./uploader */ \"./public/app/js/uploader.js\").default;\nvar Clipboard = __webpack_require__(/*! ./clipboard */ \"./public/app/js/clipboard.js\").default;\nvar DNDFileUploader = __webpack_require__(/*! ./dragndrop */ \"./public/app/js/dragndrop.js\").default;\nvar UploadScreen = __webpack_require__(/*! ./uploadScreen */ \"./public/app/js/uploadScreen.js\").default;\n\n/**\n * Require modules\n */\ncapella.ajax = __webpack_require__(/*! codex.ajax */ \"./node_modules/codex.ajax/lib/bundle.js\");\ncapella.transport = __webpack_require__(/*! codex.transport */ \"./node_modules/codex.transport/lib/bundle.js\");\ncapella.uploader = __webpack_require__(/*! ./uploader */ \"./public/app/js/uploader.js\");\ncapella.copyable = __webpack_require__(/*! ./copyable */ \"./public/app/js/copyable.js\");\ncapella.notificationToggler = __webpack_require__(/*! ./notificationToggler */ \"./public/app/js/notificationToggler.js\");\ncapella.notifier = __webpack_require__(/*! codex-notifier */ \"./node_modules/codex-notifier/dist/bundle.js\");\n\ncapella.uploadScreen = new UploadScreen();\ncapella.uploader = new Uploader();\ncapella.clipboard = new Clipboard();\ncapella.dnd = new DNDFileUploader('.capella');\n\ncapella.init = function () {\n  capella.copyable.init();\n};\n\nmodule.exports = capella;\n\n//# sourceURL=webpack://%5Bname%5D/./public/app/js/main.js?");

/***/ }),

/***/ "./public/app/js/notificationToggler.js":
/*!**********************************************!*\
  !*** ./public/app/js/notificationToggler.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = function () {\n  var CSS = {\n    /* Class of 'Copied' notification element */\n    notificationClass: '.js-result__is-copied',\n\n    /* Class used to hide notification after showTimeout */\n    notificationHideClass: 'js-hidden'\n  };\n\n  /* 'Copied' notification element */\n  var notificationElement = document.querySelector(CSS.notificationClass);\n\n  /* Timeout after which notificationElement will be hidden */\n  var showTimeout = 2000;\n\n  /* Timer to hide notification */\n  var notificationIsVisibleTimer = void 0;\n\n  /**\n   * Show and hide after showTimeout seconds copy-notifications\n   */\n  var toggleCopiedIcon = function toggleCopiedIcon(event) {\n    /* Don't open link in new window unless one of these keys is pressed */\n    if (event.ctrlKey || event.metaKey || event.which === 2) {\n      return false;\n    }\n\n    event.preventDefault();\n\n    /* Clear timer if it was set previously */\n    if (notificationIsVisibleTimer) {\n      clearTimeout(notificationIsVisibleTimer);\n    }\n\n    /* First reveal zero-opacity notification elem, then after timeout hide it again */\n    notificationElement.classList.remove(CSS.notificationHideClass);\n    notificationIsVisibleTimer = setTimeout(function () {\n      notificationElement.classList.add(CSS.notificationHideClass);\n    }, showTimeout);\n  };\n\n  return {\n    toggleCopiedIcon: toggleCopiedIcon\n  };\n}();\n\n//# sourceURL=webpack://%5Bname%5D/./public/app/js/notificationToggler.js?");

/***/ }),

/***/ "./public/app/js/uploadScreen.js":
/*!***************************************!*\
  !*** ./public/app/js/uploadScreen.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Class to control upload screen appearance\n *\n * @property {HTMLElement} mainContainer — page wrapper\n * @property {HTMLElement} progressBar — progress bar slider element\n * @property {String} loadingClass — upload screen class\n *\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar UploadScreen = function () {\n  /**\n   * @constructor\n   * Get needed elements from page\n   */\n  function UploadScreen() {\n    _classCallCheck(this, UploadScreen);\n\n    this.mainContainer = document.querySelector('.capella');\n    this.progressBar = document.querySelector('.js-capella__uploading-progress');\n    this.loadingClass = 'capella--loading';\n  }\n\n  /**\n   * Show loading screen by adding loadingClass to page wrapper\n   *\n   * @param {String} filename — file which is uploading now\n   */\n\n\n  _createClass(UploadScreen, [{\n    key: 'show',\n    value: function show(filename) {\n      var filenameHolder = this.mainContainer.querySelector('.capella__uploading-filename');\n\n      filenameHolder.textContent = filename;\n      this.mainContainer.classList.add(this.loadingClass);\n    }\n\n    /**\n     * Hide loading screen by removing loadingClass from page wrapper\n     */\n\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this.mainContainer.classList.remove(this.loadingClass);\n    }\n\n    /**\n     * Method to control loading progress bar\n     *\n     * @param {Number} percents — uploading percentage\n     */\n\n  }, {\n    key: 'progress',\n    value: function progress(percents) {\n      this.progressBar.style.width = percents + '%';\n    }\n  }]);\n\n  return UploadScreen;\n}();\n\nexports.default = UploadScreen;\n\n//# sourceURL=webpack://%5Bname%5D/./public/app/js/uploadScreen.js?");

/***/ }),

/***/ "./public/app/js/uploader.js":
/*!***********************************!*\
  !*** ./public/app/js/uploader.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * @class Uploader\n * Handle images uploading\n *\n * @property {String} uploadUrl — url to upload images\n * @property {HTMLElement} uploadFilButton — transport initialization trigger\n * @property {HTMLElement} uploadLinkField — input to insert image link\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Uploader = function () {\n  /**\n   * Uploader class constructor. Get needed elements and bind events\n   */\n  function Uploader() {\n    _classCallCheck(this, Uploader);\n\n    this.uploadUrl = '/upload';\n    this.uploadFileButton = document.getElementById('uploadFileButton');\n    this.uploadLinkField = document.getElementById('uploadLinkField');\n\n    if (this.uploadFileButton) {\n      this.uploadFileButton.addEventListener('click', this.uploadByTransport.bind(this), false);\n    }\n\n    if (this.uploadLinkField) {\n      this.uploadLinkField.addEventListener('keydown', this.uploadByUrl.bind(this), false);\n    }\n  }\n\n  /**\n   * Init codex.transport to select image from user's computer\n   */\n\n\n  _createClass(Uploader, [{\n    key: 'uploadByTransport',\n    value: function uploadByTransport() {\n      capella.transport.init({\n        url: this.uploadUrl,\n        multiple: false,\n        accept: 'image/png, image/gif, image/jpg, image/jpeg, image/bmp,  image/tiff',\n        data: {},\n        before: this.before,\n        progress: this.progress,\n        success: this.success,\n        error: this.error,\n        after: this.after\n      });\n    }\n\n    /**\n     * Handle upload by image url\n     *\n     * @param e\n     */\n\n  }, {\n    key: 'uploadByUrl',\n    value: function uploadByUrl(e) {\n      /** Check for Enter key */\n      if (e.keyCode !== 13) {\n        return;\n      }\n      e.preventDefault();\n\n      if (this.uploadLinkField) {\n        this.upload({ 'link': this.uploadLinkField.value });\n      }\n    }\n\n    /**\n     * Handler to upload blob data using FormData\n     *\n     * @param {Blob|File} file — file to send\n     */\n\n  }, {\n    key: 'uploadBlob',\n    value: function uploadBlob(file) {\n      var formData = new FormData();\n\n      this.currentFileName = file.name;\n\n      formData.append('file', file, file.name);\n\n      this.upload(formData);\n    }\n\n    /**\n     * Send AJAX request to uploadUrl with passed data\n     *\n     * @param {*} data — data to send\n     */\n\n  }, {\n    key: 'upload',\n    value: function upload(data) {\n      capella.ajax.call({\n        type: 'POST',\n        url: this.uploadUrl,\n        data: data,\n        before: this.before.bind(this),\n        progress: this.progress,\n        success: this.success,\n        error: this.error,\n        after: this.after\n      });\n    }\n\n    /**\n     * Method to call before upload starts\n     */\n\n  }, {\n    key: 'before',\n    value: function before(data) {\n      var filename = void 0;\n\n      if (data instanceof FormData) {\n        filename = this.currentFileName;\n      }\n      if (data && data.link) {\n        filename = data.link;\n      }\n      if (data[0] instanceof File) {\n        filename = data[0].name;\n      }\n\n      capella.uploadScreen.show(filename);\n    }\n\n    /**\n     *  Handle upload progress\n     *\n     * @param percentage — upload percentage\n     */\n\n  }, {\n    key: 'progress',\n    value: function progress(percentage) {\n      percentage = 0.95 * percentage;\n      capella.uploadScreen.progress(percentage);\n    }\n\n    /**\n     * Successful upload handler\n     *\n     * @param {Object} response — response object\n     * @param {Boolean} response.success — upload status\n     * @param {String} response.url — if upload was successful, contains uploaded image url\n     * @param {String} response.id — if upload was succesful, contains uploaded image id\n     * @param {String} response.message — if upload failed, contains reason\n     */\n\n  }, {\n    key: 'success',\n    value: function success(response) {\n      console.log(response);\n\n      if (response.success) {\n        capella.uploadScreen.progress(100);\n\n        /** Redirect to uploaded image */\n        window.location.href = '/image/' + response.id;\n      } else {\n        capella.uploadScreen.hide();\n      }\n    }\n\n    /**\n     * Upload error handler\n     *\n     * @param {Error} error — raised error\n     */\n\n  }, {\n    key: 'error',\n    value: function error(response) {\n      capella.notifier.show({\n        message: '<i class=\\'cdx-notify__warning-sign\\'></i>' + response.message,\n        time: 7000\n      });\n      capella.uploadScreen.hide();\n    }\n\n    /**\n     * Method to call after upload\n     */\n\n  }, {\n    key: 'after',\n    value: function after() {}\n  }]);\n\n  return Uploader;\n}();\n\nexports.default = Uploader;\n\n//# sourceURL=webpack://%5Bname%5D/./public/app/js/uploader.js?");

/***/ })

/******/ });